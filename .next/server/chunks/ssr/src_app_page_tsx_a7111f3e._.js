module.exports=[40777,a=>{"use strict";a.s(["default",()=>I],40777);var b=a.i(87924),c=a.i(63828),d=a.i(20362),e=a.i(58212),f=a.i(72131),g=a.i(27045),h=a.i(97045);function i({children:a,title:c,subtitle:d,actions:e,className:f="",padding:g="lg",maxWidth:h="none"}){let i=["mx-auto",{none:"",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl",full:"max-w-full"}[h],{none:"",sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"}[g],f].join(" ");return(0,b.jsxs)("div",{className:i,children:[(c||d||e)&&(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(c||d)&&(0,b.jsxs)("div",{className:"space-y-2",children:[c&&(0,b.jsx)("h1",{className:"text-3xl font-bold text-gostcam-text-primary tracking-tight",children:c}),d&&(0,b.jsx)("p",{className:"text-lg text-gostcam-text-secondary max-w-2xl",children:d})]}),e&&(0,b.jsx)("div",{className:"flex-shrink-0",children:e})]})}),(0,b.jsx)("div",{className:"space-y-8",children:a})]})}function j({children:a,columns:c=3,gap:d="lg",className:e=""}){let f=["grid",{1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",6:"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6"}[c],{sm:"gap-4",md:"gap-6",lg:"gap-8",xl:"gap-12"}[d],e].join(" ");return(0,b.jsx)("div",{className:f,children:a})}function k({children:a,padding:c="md",shadow:d="sm",hover:e=!1,className:f="",onClick:g}){let h=["bg-white rounded-2xl border border-gostcam-border-light",{sm:"p-4",md:"p-6",lg:"p-8"}[c],{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[d],e?"hover:shadow-lg hover:border-gostcam-border-medium transition-all duration-200 cursor-pointer":"",g?"cursor-pointer":"",f].join(" ");return(0,b.jsx)("div",{className:h,onClick:g,children:a})}var l=a.i(10641);let m=(0,f.forwardRef)(({variant:a="primary",size:c="md",isLoading:d=!1,leftIcon:e,rightIcon:f,hapticFeedback:g="light",touchFriendly:h=!0,loadingText:i="Procesando...",className:j="",onClick:k,disabled:m,children:n,...o},p)=>{let{buttonPress:q}=(0,l.useHapticFeedback)(),r=["relative inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 ease-in-out focus:outline-none disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none select-none touch-manipulation active:scale-[0.97] transform relative overflow-hidden",{primary:"bg-gostcam-primary hover:bg-gostcam-primary-hover active:bg-gostcam-primary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",secondary:"bg-gostcam-secondary hover:bg-gostcam-secondary-hover active:bg-gostcam-secondary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-secondary focus:ring-offset-2",success:"bg-gostcam-success hover:bg-gostcam-success-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-success focus:ring-offset-2",warning:"bg-gostcam-warning hover:bg-gostcam-warning-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-warning focus:ring-offset-2",danger:"bg-gostcam-danger hover:bg-gostcam-danger-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-danger focus:ring-offset-2",ghost:"bg-transparent hover:bg-gostcam-gray-100 active:bg-gostcam-gray-200 text-gostcam-text-primary font-medium focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",outline:"border-2 border-gostcam-primary bg-transparent hover:bg-gostcam-primary active:bg-gostcam-primary-hover text-gostcam-primary hover:text-white font-medium transition-all duration-200 focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2"}[a],{sm:h?"min-h-[44px] min-w-[44px] px-4 py-3 text-sm gap-2":"h-9 px-3 py-2 text-sm gap-1.5",md:h?"min-h-[48px] min-w-[48px] px-6 py-3.5 text-base gap-2.5":"h-10 px-4 py-2 text-base gap-2",lg:h?"min-h-[52px] min-w-[52px] px-8 py-4 text-lg gap-3":"h-12 px-6 py-3 text-lg gap-2.5",xl:h?"min-h-[56px] min-w-[56px] px-10 py-5 text-xl gap-3.5":"h-14 px-8 py-4 text-xl gap-3"}[c],j].join(" ");return(0,b.jsx)("button",{ref:p,className:r,onClick:a=>{m||d||("none"!==g&&q(g),k&&k(a))},disabled:m||d,"aria-disabled":m||d,"aria-label":d?i:void 0,tabIndex:m?-1:0,...o,children:d?(0,b.jsxs)("div",{className:"flex items-center justify-center",children:[(0,b.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,b.jsx)("span",{children:i})]}):(0,b.jsxs)(b.Fragment,{children:[e&&(0,b.jsx)("span",{className:"flex-shrink-0 flex items-center",children:e}),(0,b.jsx)("span",{className:`flex-1 truncate ${e||f?"text-center":""}`,children:n}),f&&(0,b.jsx)("span",{className:"flex-shrink-0 flex items-center",children:f})]})})});m.displayName="GostCamButton";let n=(0,f.forwardRef)(({icon:a,ariaLabel:c,tooltip:d,size:e="md",variant:f="ghost",...g},h)=>(0,b.jsx)(m,{ref:h,variant:f,size:e,"aria-label":c,title:d||c,className:`${{sm:"min-h-[44px] min-w-[44px] w-11 h-11",md:"min-h-[48px] min-w-[48px] w-12 h-12",lg:"min-h-[52px] min-w-[52px] w-14 h-14",xl:"min-h-[56px] min-w-[56px] w-16 h-16"}[e]} p-0`,...g,children:a}));n.displayName="GostCamIconButton";let o={loading:{dashboard:"Preparando tu panel de control...",equipos:"Cargando equipos de seguridad...",sucursales:"Actualizando informaci√≥n de sucursales...",statistics:"Calculando estad√≠sticas en tiempo real...",login:"Verificando credenciales...",search:"Buscando en tu red de seguridad...",upload:"Subiendo informaci√≥n...",delete:"Procesando solicitud...",export:"Generando reporte..."},buttons:{login:"Iniciar Sesi√≥n",logout:"Cerrar Sesi√≥n",save:"Guardar Cambios",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",view:"Ver Detalles",add:"Agregar Equipo",search:"Buscar",filter:"Filtrar",export:"Exportar Datos",transfer:"Trasladar",maintenance:"Mantenimiento",retry:"Reintentar",continue:"Continuar",back:"Regresar"},titles:{dashboard:"Panel de Control GostCAM",equipments:"Mis Equipos",branches:"Red de Sucursales",settings:"Configuraci√≥n",profile:"Mi Perfil",reports:"Reportes y An√°lisis"}};function p(){let{state:a,loadDashboardStats:d,testAltaEquipo:e}=(0,c.useApp)(),[g,l]=(0,f.useState)("resumen"),[n,p]=(0,f.useState)(!1),q=(0,f.useCallback)(async()=>{await d()},[d]),r=(0,f.useCallback)(async()=>{!a.isAuthenticated||n||a.dashboardStats||(await d(),p(!0))},[a.isAuthenticated,n,a.dashboardStats,d]);if((0,f.useEffect)(()=>{r()},[r]),a.isLoading)return(0,b.jsx)(i,{title:o.loading.dashboard||"Cargando...",padding:"lg",maxWidth:"6xl",children:(0,b.jsx)("div",{className:"animate-pulse space-y-8",children:(0,b.jsx)(j,{columns:4,gap:"lg",children:[void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(k,{className:"h-24",children:(0,b.jsx)("div",{className:"h-full bg-gostcam-gray-200 rounded-lg animate-wave"})},c))})})});if(a.error)return(0,b.jsx)(i,{padding:"lg",maxWidth:"4xl",children:(0,b.jsx)(k,{className:"border-gostcam-danger bg-gostcam-danger-light",children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-10 h-10 bg-gostcam-danger rounded-full flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-exclamation-triangle text-white"})})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gostcam-danger mb-2",children:"Problema de conexi√≥n"}),(0,b.jsx)("p",{className:"text-gostcam-danger-dark mb-4",children:a.error}),(0,b.jsx)(m,{variant:"danger",size:"sm",onClick:()=>window.location.reload(),leftIcon:(0,b.jsx)("i",{className:"fas fa-redo"}),children:o.buttons.retry||"Reintentar"})]})]})})});let s=a.dashboardStats;if(!s)return(0,b.jsx)("div",{className:"p-6",children:(0,b.jsx)("div",{className:"text-center text-gray-500",children:"No hay datos disponibles"})});let t={labels:s.equiposPorTipo.map(a=>a.tipo),datasets:[{label:"Cantidad de Equipos",data:s.equiposPorTipo.map(a=>a.cantidad),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(6, 182, 212, 0.8)","rgba(236, 72, 153, 0.8)","rgba(107, 114, 128, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(6, 182, 212, 1)","rgba(236, 72, 153, 1)","rgba(107, 114, 128, 1)","rgba(34, 197, 94, 1)","rgba(251, 146, 60, 1)"],borderWidth:1}]},u={labels:s.estatusPorcentajes.map(a=>a.estatus),datasets:[{data:s.estatusPorcentajes.map(a=>a.porcentaje),backgroundColor:s.estatusPorcentajes.map(a=>a.color),borderWidth:2,borderColor:"#ffffff"}]},v={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}},w={...v,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return(0,b.jsx)(i,{title:o.titles.dashboard||"Panel de Control GostCAM",subtitle:`Bienvenido de vuelta, ${a.user?.NombreUsuario||"Usuario"}. Aqu\xed tienes un resumen de tu red de seguridad.`,actions:(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)(m,{variant:"secondary",onClick:q,leftIcon:(0,b.jsx)("i",{className:"fas fa-sync-alt"}),hapticFeedback:"medium",children:"Actualizar"}),(0,b.jsx)(m,{variant:"primary",onClick:e,leftIcon:(0,b.jsx)("i",{className:"fas fa-plus"}),children:"Test Alta Equipo"})]}),padding:"lg",maxWidth:"6xl",children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-desktop text-white text-sm"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Equipos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.totalEquipos})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-md flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-check-circle text-white text-sm"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Disponibles"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.equiposDisponibles})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-play-circle text-white text-sm"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Uso"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.equiposEnUso})]})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("div",{className:"w-8 h-8 bg-orange-600 rounded-md flex items-center justify-center",children:(0,b.jsx)("i",{className:"fas fa-exchange-alt text-white text-sm"})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Movimientos/Mes"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.movimientosMes})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Equipos por Tipo"}),(0,b.jsx)("div",{className:"h-64",children:s.equiposPorTipo.length>0?(0,b.jsx)(h.Bar,{data:t,options:w}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Sin datos disponibles"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuci√≥n por Estatus"}),(0,b.jsx)("div",{className:"h-64",children:s.estatusPorcentajes.length>0?(0,b.jsx)(h.Doughnut,{data:u,options:v}):(0,b.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Sin datos disponibles"})})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Mantenimiento"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:s.equiposMantenimiento})]}),(0,b.jsx)("i",{className:"fas fa-tools text-yellow-500 text-2xl"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Da√±ados"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-600",children:s.equiposDa√±ados})]}),(0,b.jsx)("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})]})}),(0,b.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Movimientos Abiertos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:s.movimientosAbiertos})]}),(0,b.jsx)("i",{className:"fas fa-clock text-blue-500 text-2xl"})]})})]})]})})}g.Chart.register(g.CategoryScale,g.LinearScale,g.BarElement,g.Title,g.Tooltip,g.Legend,g.ArcElement);var q=a.i(29901);function r({vistaActual:a,vistaSucursales:c,sucursalSeleccionada:d,searchTerm:e,onVistaChange:f,onVistaSucursalesChange:g,onSearchChange:h,onRefresh:i}){return(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"detalle"===a&&d?`${d.nombre}`:"Gesti√≥n de Sucursales"}),(0,b.jsx)("p",{className:"text-gray-600",children:"detalle"===a&&d?"Detalles y equipos de la sucursal":"Administra todas las sucursales y sus equipos"})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:["lista"===a&&(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("i",{className:"fas fa-search text-gray-400"}),(0,b.jsx)("input",{type:"text",value:e,onChange:a=>h(a.target.value),placeholder:"Buscar...",className:"w-64 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),"lista"===a&&(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("button",{onClick:()=>g("tarjetas"),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${"tarjetas"===c?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"}`,children:(0,b.jsx)("span",{children:"üóÇÔ∏è Tarjetas"})}),(0,b.jsx)("button",{onClick:()=>g("lista"),className:`flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ${"lista"===c?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"}`,children:(0,b.jsx)("span",{children:"üìã Lista"})})]}),"detalle"===a&&d&&(0,b.jsx)("button",{onClick:()=>f("lista"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors bg-blue-500 text-white hover:bg-blue-600",children:(0,b.jsx)("span",{children:"üìã Volver a Lista"})}),(0,b.jsx)("div",{className:"h-8 w-px bg-gray-300"}),(0,b.jsxs)("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,b.jsx)("i",{className:"fas fa-sync-alt"}),(0,b.jsx)("span",{children:"Actualizar"})]})]})]})})}function s(){let[a,c]=(0,f.useState)([]),[d,e]=(0,f.useState)([]),[g,h]=(0,f.useState)(""),[i,j]=(0,f.useState)("tarjetas"),[k,l]=(0,f.useState)({totalSucursales:0,totalCamaras:0,totalSensores:0,camarasActivas:0,sensoresActivos:0}),[m,n]=(0,f.useState)(!0),[o,p]=(0,f.useState)(null),[q,s]=(0,f.useState)([]),[t,u]=(0,f.useState)(!1),[v,w]=(0,f.useState)("lista");(0,f.useEffect)(()=>{x()},[]),(0,f.useEffect)(()=>{A()},[g,a]);let x=async()=>{n(!0);try{let a=[{id:1,nombre:"Centro Principal",direccion:"Av. Principal 123",ciudad:"Ciudad de M√©xico",estado:"CDMX",telefono:"55-1234-5678",email:"centro@gostcam.com",totalCamaras:25,totalSensores:15,camarasActivas:23,sensoresActivos:14,equiposTotal:40},{id:2,nombre:"Sucursal Norte",direccion:"Calle Norte 456",ciudad:"Monterrey",estado:"Nuevo Le√≥n",telefono:"81-8765-4321",email:"norte@gostcam.com",totalCamaras:18,totalSensores:12,camarasActivas:16,sensoresActivos:11,equiposTotal:30},{id:3,nombre:"Sucursal Sur",direccion:"Blvd. Sur 789",ciudad:"Guadalajara",estado:"Jalisco",telefono:"33-2468-1357",email:"sur@gostcam.com",totalCamaras:22,totalSensores:18,camarasActivas:20,sensoresActivos:17,equiposTotal:40},{id:4,nombre:"Sucursal Oeste",direccion:"Av. Oeste 321",ciudad:"Tijuana",estado:"Baja California",telefono:"664-9876-5432",email:"oeste@gostcam.com",totalCamaras:15,totalSensores:10,camarasActivas:14,sensoresActivos:9,equiposTotal:25}];c(a);let b={totalSucursales:a.length,totalCamaras:a.reduce((a,b)=>a+b.totalCamaras,0),totalSensores:a.reduce((a,b)=>a+b.totalSensores,0),camarasActivas:a.reduce((a,b)=>a+b.camarasActivas,0),sensoresActivos:a.reduce((a,b)=>a+b.sensoresActivos,0)};l(b)}catch(a){console.error("Error cargando sucursales:",a)}n(!1)},y=async a=>{u(!0);try{let b=z(a);s(b)}catch(a){console.error("Error cargando equipos de sucursal:",a),s([])}u(!1)},z=a=>{let b=[];for(let c=1;c<=a.totalCamaras;c++)b.push({no_serie:`CAM${a.id}${c.toString().padStart(3,"0")}`,nombreEquipo:`C\xe1mara ${c} - ${a.nombre}`,TipoEquipo:"C√°mara",marca:c%3==0?"Hikvision":c%2==0?"Dahua":"Axis",modelo:c%3==0?"DS-2CD2143G0-I":c%2==0?"IPC-HFW4431R-Z":"M3045-V",EstatusEquipo:c<=a.camarasActivas?"Activo":"Inactivo",AreaActual:c<=5?"Entrada":c<=10?"Pasillo Principal":c<=15?"Oficinas":c<=20?"Almac√©n":"Exterior",fechaInstalacion:`2024-${Math.floor(12*Math.random())+1}-${Math.floor(28*Math.random())+1}`,ultimoMantenimiento:Math.random()>.3?`2024-11-${Math.floor(7*Math.random())+1}`:void 0,estadoConexion:c<=a.camarasActivas?Math.random()>.1?"Conectado":"Error":"Desconectado"});for(let c=1;c<=a.totalSensores;c++)b.push({no_serie:`SEN${a.id}${c.toString().padStart(3,"0")}`,nombreEquipo:`Sensor ${c} - ${a.nombre}`,TipoEquipo:c%4==0?"Sensor de Movimiento":c%3==0?"Sensor de Puerta":c%2==0?"Detector de Humo":"Sensor de Temperatura",marca:c%3==0?"Honeywell":c%2==0?"Bosch":"DSC",modelo:c%3==0?"PIR-312":c%2==0?"ISC-BPR2-W12":"LC-100PI",EstatusEquipo:c<=a.sensoresActivos?"Activo":"Inactivo",AreaActual:c<=3?"Entrada":c<=6?"Pasillo Principal":c<=9?"Oficinas":c<=12?"Almac√©n":"Exterior",fechaInstalacion:`2024-${Math.floor(12*Math.random())+1}-${Math.floor(28*Math.random())+1}`,ultimoMantenimiento:Math.random()>.4?`2024-11-${Math.floor(7*Math.random())+1}`:void 0,estadoConexion:c<=a.sensoresActivos?Math.random()>.05?"Conectado":"Error":"Desconectado"});return b},A=()=>{let b=a;g&&(b=b.filter(a=>a.nombre.toLowerCase().includes(g.toLowerCase())||a.ciudad.toLowerCase().includes(g.toLowerCase())||a.estado.toLowerCase().includes(g.toLowerCase()))),e(b)},B=async a=>{p(a),w("detalle"),await y(a)},C=a=>{switch(a){case"Activo":return"bg-green-100 text-green-800";case"Inactivo":default:return"bg-gray-100 text-gray-800";case"Con Falla":return"bg-red-100 text-red-800";case"Mantenimiento":return"bg-yellow-100 text-yellow-800"}},D=a=>{switch(a){case"Conectado":return"bg-green-100 text-green-800";case"Desconectado":default:return"bg-gray-100 text-gray-800";case"Error":return"bg-red-100 text-red-800"}};return"detalle"===v&&o?(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(r,{vistaActual:v,vistaSucursales:i,sucursalSeleccionada:o,searchTerm:g,onVistaChange:w,onVistaSucursalesChange:j,onSearchChange:h,onRefresh:x}),(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-gray-600",children:[o.direccion,", ",o.ciudad]})}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsx)("div",{className:"text-sm text-gray-500",children:"Total de Equipos"}),(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:o.equiposTotal})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"C√°maras"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[o.camarasActivas,"/",o.totalCamaras]})]}),(0,b.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Sensores"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[o.sensoresActivos,"/",o.totalSensores]})]}),(0,b.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Activos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:o.camarasActivas+o.sensoresActivos})]}),(0,b.jsx)("i",{className:"fas fa-check-circle text-2xl text-purple-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"% Operativo"}),(0,b.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[Math.round((o.camarasActivas+o.sensoresActivos)/o.equiposTotal*100),"%"]})]}),(0,b.jsx)("i",{className:"fas fa-chart-line text-2xl text-orange-600"})]})})]}),(0,b.jsx)("div",{className:"space-y-6",children:t?(0,b.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,b.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,b.jsx)("span",{className:"ml-2",children:"Cargando equipos..."})]})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"}),(0,b.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["C√°maras (",q.filter(a=>"C√°mara"===a.TipoEquipo).length,")"]})]})}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-blue-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Nombre"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Estado"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:q.filter(a=>"C√°mara"===a.TipoEquipo).map(a=>(0,b.jsxs)("tr",{className:"hover:bg-blue-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.no_serie})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm text-gray-900",children:a.nombreEquipo})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.marca}),(0,b.jsx)("div",{className:"text-gray-500",children:a.modelo})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.AreaActual}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(a.EstatusEquipo)}`,children:a.EstatusEquipo})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(a.estadoConexion)}`,children:a.estadoConexion})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.ultimoMantenimiento?new Date(a.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},a.no_serie))})]}),0===q.filter(a=>"C√°mara"===a.TipoEquipo).length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay c√°maras registradas en esta sucursal"})]})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"}),(0,b.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sensores y Dispositivos (",q.filter(a=>"C√°mara"!==a.TipoEquipo).length,")"]})]})}),(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-green-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Nombre/Tipo"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Estado"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:q.filter(a=>"C√°mara"!==a.TipoEquipo).map(a=>(0,b.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.no_serie})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.nombreEquipo}),(0,b.jsx)("div",{className:"text-sm text-gray-500",children:a.TipoEquipo})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium",children:a.marca}),(0,b.jsx)("div",{className:"text-gray-500",children:a.modelo})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.AreaActual}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${C(a.EstatusEquipo)}`,children:a.EstatusEquipo})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D(a.estadoConexion)}`,children:a.estadoConexion})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.ultimoMantenimiento?new Date(a.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},a.no_serie))})]}),0===q.filter(a=>"C√°mara"!==a.TipoEquipo).length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay sensores o dispositivos registrados en esta sucursal"})]})]}),0===q.length&&(0,b.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,b.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay equipos registrados en esta sucursal"})})]})})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(r,{vistaActual:v,vistaSucursales:i,sucursalSeleccionada:o,searchTerm:g,onVistaChange:w,onVistaSucursalesChange:j,onSearchChange:h,onRefresh:x}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Sucursales"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:k.totalSucursales})]}),(0,b.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-600",children:"C√°maras Totales"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-900",children:k.totalCamaras})]}),(0,b.jsx)("i",{className:"fas fa-video text-2xl text-green-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Sensores Totales"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:k.totalSensores})]}),(0,b.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-purple-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"C√°maras Activas"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:k.camarasActivas})]}),(0,b.jsx)("i",{className:"fas fa-check-circle text-2xl text-orange-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Sensores Activos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-900",children:k.sensoresActivos})]}),(0,b.jsx)("i",{className:"fas fa-shield-alt text-2xl text-red-600"})]})})]}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,b.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sucursales (",d.length,")"]})}),m?(0,b.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,b.jsx)("span",{className:"ml-2",children:"Cargando sucursales..."})]}):"tarjetas"===i?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:d.map(a=>{let c=Math.round((a.camarasActivas+a.sensoresActivos)/a.equiposTotal*100);return(0,b.jsxs)("div",{onClick:()=>B(a),className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer bg-white",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,b.jsx)("div",{className:`w-4 h-4 rounded-full ${c>=80?"bg-green-500":"bg-red-500"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:a.nombre}),(0,b.jsxs)("p",{className:"text-sm text-gray-500",children:[a.ciudad,", ",a.estado]})]})]}),(0,b.jsxs)("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${c>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[c,"%"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.camarasActivas}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"C√°maras"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:a.sensoresActivos}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:"Sensores"})]})]}),(0,b.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[(0,b.jsx)("div",{children:a.direccion}),a.telefono&&(0,b.jsxs)("div",{children:["üìû ",a.telefono]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Total: ",a.equiposTotal," equipos"]}),(0,b.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})]})]},a.id)})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Sucursal"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipos"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Estado"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Contacto"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(a=>{let c=Math.round((a.camarasActivas+a.sensoresActivos)/a.equiposTotal*100);return(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:`w-3 h-3 rounded-full mr-3 ${c>=80?"bg-green-500":"bg-red-500"}`}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.nombre}),(0,b.jsxs)("div",{className:"text-sm text-gray-700",children:["ID: ",a.id]})]})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsxs)("div",{className:"text-sm text-gray-900",children:[a.ciudad,", ",a.estado]}),(0,b.jsx)("div",{className:"text-sm text-gray-700",children:a.direccion})]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-blue-600",children:a.camarasActivas}),(0,b.jsx)("div",{className:"text-xs text-gray-700",children:"C√°maras"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-green-600",children:a.sensoresActivos}),(0,b.jsx)("div",{className:"text-xs text-gray-700",children:"Sensores"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.equiposTotal}),(0,b.jsx)("div",{className:"text-xs text-gray-700",children:"Total"})]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${c>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[c>=80?"Operativa":"Con Problemas"," (",c,"%)"]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"text-sm text-gray-900",children:[a.telefono&&(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"fas fa-phone text-gray-400 mr-1"}),a.telefono]}),a.email&&(0,b.jsxs)("div",{className:"flex items-center mt-1",children:[(0,b.jsx)("i",{className:"fas fa-envelope text-gray-400 mr-1"}),(0,b.jsx)("span",{className:"text-xs",children:a.email})]})]})}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,b.jsx)("button",{onClick:()=>B(a),className:"text-blue-600 hover:text-blue-900 mr-2",children:(0,b.jsx)("i",{className:"fas fa-eye"})}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),console.log("Editar sucursal:",a.id)},className:"text-gray-600 hover:text-gray-900",children:(0,b.jsx)("i",{className:"fas fa-edit"})})]})]},a.id)})})]})}),!m&&0===d.length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron sucursales con los filtros aplicados"})]})]})}let t=({title:a="Gesti√≥n de Fallas",onRefresh:c,showRefreshButton:d=!0,loading:e=!1,tabs:f=[],activeTab:g="",onTabChange:h})=>(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600 mr-3"}),(0,b.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:a})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[f.length>0&&(0,b.jsx)(b.Fragment,{children:f.map(a=>(0,b.jsxs)("button",{onClick:()=>h?.(a.id),className:`flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ${g===a.id?"text-white bg-blue-600 hover:bg-blue-700":"text-white bg-blue-500 hover:bg-blue-600"}`,children:[(0,b.jsx)("i",{className:`${a.icon} mr-2`}),a.label]},a.id))}),d&&c&&(0,b.jsxs)("button",{onClick:c,disabled:e,className:"flex items-center px-3 py-2 text-sm rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium",children:[(0,b.jsx)("i",{className:`fas fa-sync-alt mr-2 ${e?"animate-spin":""}`}),"Actualizar"]})]})]})}),u=()=>{let[a,c]=(0,f.useState)("consultar"),[d,e]=(0,f.useState)([]),[g,h]=(0,f.useState)(null),[i,j]=(0,f.useState)(!1),[k,l]=(0,f.useState)({estatus:"ABIERTA",prioridad:"",tipo:"",tecnico:"",fechaDesde:"",fechaHasta:""}),[m,n]=(0,f.useState)([]),[o,p]=(0,f.useState)(null),[q,r]=(0,f.useState)([]),[s,u]=(0,f.useState)({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),[v,w]=(0,f.useState)(""),[x,y]=(0,f.useState)(null),[z,A]=(0,f.useState)(!1);(0,f.useEffect)(()=>{"consultar"===a&&B(),"reportar"===a&&C()},[a,k]);let B=async()=>{j(!0);try{let a={fallas:[{id:1,no_serie:"CAM001",nombreEquipo:"C√°mara Principal",tipoEquipo:"C√°mara",sucursal:"Centro Principal",tipo_falla:"HARDWARE",descripcion_problema:"C√°mara no enfoca correctamente",sintomas:"Imagen borrosa, no responde a ajustes autom√°ticos",prioridad:"ALTA",usuario_reporta:"Juan P√©rez",fecha_reporte:"2024-11-06",fecha_solucion:void 0,tecnico_asignado:"Mar√≠a Gonz√°lez",solucion_aplicada:void 0,estatus:"ABIERTA",tiempo_solucion_horas:void 0,observaciones:"Requiere revisi√≥n urgente",ubicacion_falla:"Centro Principal - Entrada",impacto:"ALTO",requiere_repuestos:!0,repuestos_utilizados:void 0,costo_reparacion:void 0,diasAbierta:2},{id:2,no_serie:"CAM002",nombreEquipo:"C√°mara Entrada",tipoEquipo:"C√°mara",sucursal:"Sucursal Norte",tipo_falla:"SOFTWARE",descripcion_problema:"Error en software de grabaci√≥n",sintomas:"Se reinicia autom√°ticamente cada 30 minutos",prioridad:"NORMAL",usuario_reporta:"Ana Rodr√≠guez",fecha_reporte:"2024-11-05",fecha_solucion:"2024-11-07",tecnico_asignado:"Carlos L√≥pez",solucion_aplicada:"Actualizaci√≥n de firmware",estatus:"RESUELTA",tiempo_solucion_horas:2,observaciones:"Problema resuelto con actualizaci√≥n",ubicacion_falla:"Sucursal Norte - Acceso",impacto:"MEDIO",requiere_repuestos:!1,repuestos_utilizados:void 0,costo_reparacion:0,diasAbierta:2},{id:3,no_serie:"CAM003",nombreEquipo:"C√°mara Pasillo",tipoEquipo:"C√°mara",sucursal:"Centro Principal",tipo_falla:"CONECTIVIDAD",descripcion_problema:"P√©rdida intermitente de conexi√≥n",sintomas:"Se desconecta aleatoriamente de la red",prioridad:"CRITICA",usuario_reporta:"Luis Martinez",fecha_reporte:"2024-11-04",fecha_solucion:void 0,tecnico_asignado:"Juan P√©rez",solucion_aplicada:void 0,estatus:"EN_PROCESO",tiempo_solucion_horas:void 0,observaciones:"Revisando cableado de red",ubicacion_falla:"Centro Principal - Pasillo A",impacto:"CRITICO",requiere_repuestos:!0,repuestos_utilizados:void 0,costo_reparacion:void 0,diasAbierta:4}],estadisticas:{total:3,abiertas:1,en_proceso:1,resueltas:1,promedio_solucion_horas:2,por_tipo:{hardware:1,software:1,conectividad:1,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:1,alta:1,critica:1},por_tecnico:[{tecnico:"Mar√≠a Gonz√°lez",total_asignadas:1,resueltas:0,en_proceso:0,promedio_horas:0},{tecnico:"Carlos L√≥pez",total_asignadas:1,resueltas:1,en_proceso:0,promedio_horas:2},{tecnico:"Juan P√©rez",total_asignadas:1,resueltas:0,en_proceso:1,promedio_horas:0}]}};e(a.fallas),h(a.estadisticas)}catch(a){console.error("Error cargando fallas:",a),e([]),h({total:0,abiertas:0,en_proceso:0,resueltas:0,promedio_solucion_horas:0,por_tipo:{hardware:0,software:0,conectividad:0,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:0,alta:0,critica:0},por_tecnico:[]})}j(!1)},C=async()=>{try{r([{id:1,nombre:"Juan P√©rez - T√©cnico Senior"},{id:2,nombre:"Mar√≠a Gonz√°lez - T√©cnico"},{id:3,nombre:"Carlos L√≥pez - T√©cnico Junior"},{id:4,nombre:"Ana Rodr√≠guez - Especialista"}])}catch(a){console.error("Error cargando t√©cnicos:",a)}},D=async a=>{if(!a.trim())return void n([]);try{let b=await fetch(`/api/equipos/search?q=${encodeURIComponent(a)}`),c=await b.json();c.success&&n(c.data)}catch(a){console.error("Error buscando equipos:",a)}},E=async()=>{try{alert("Falla reportada exitosamente"),u({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),p(null),w(""),B()}catch(a){console.error("Error reportando falla:",a),alert("Error interno del servidor")}},F=async a=>{try{alert("Falla actualizada exitosamente"),A(!1),y(null),B()}catch(a){console.error("Error actualizando falla:",a),alert("Error interno del servidor")}};return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(t,{title:"Gesti√≥n de Fallas",onRefresh:()=>B(),showRefreshButton:"consultar"===a,loading:i,tabs:[{id:"consultar",label:"Consultar Fallas",icon:"fas fa-search"},{id:"reportar",label:"Reportar Falla",icon:"fas fa-plus-circle"},{id:"estadisticas",label:"Estad√≠sticas",icon:"fas fa-chart-bar"}],activeTab:a,onTabChange:a=>c(a)}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:["consultar"===a&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,b.jsxs)("select",{value:k.estatus,onChange:a=>l({...k,estatus:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,b.jsx)("option",{value:"ABIERTA",children:"Abierta"}),(0,b.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,b.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,b.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),(0,b.jsxs)("select",{value:k.prioridad,onChange:a=>l({...k,prioridad:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,b.jsx)("option",{value:"",children:"Todas"}),(0,b.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"}),(0,b.jsx)("option",{value:"ALTA",children:"Alta"}),(0,b.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,b.jsx)("option",{value:"BAJA",children:"Baja"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,b.jsxs)("select",{value:k.tipo,onChange:a=>l({...k,tipo:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,b.jsx)("option",{value:"",children:"Todos"}),(0,b.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,b.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,b.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,b.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,b.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,b.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,b.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,b.jsx)("input",{type:"date",value:k.fechaDesde,onChange:a=>l({...k,fechaDesde:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,b.jsx)("input",{type:"date",value:k.fechaHasta,onChange:a=>l({...k,fechaHasta:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T√©cnico"}),(0,b.jsx)("input",{type:"text",value:k.tecnico,onChange:a=>l({...k,tecnico:a.target.value}),placeholder:"Nombre del t√©cnico",className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]})]}),i?(0,b.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,b.jsx)("span",{className:"ml-2",children:"Cargando fallas..."})]}):(0,b.jsxs)("div",{className:"overflow-x-auto",children:[(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipo"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Tipo/Prioridad"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Descripci√≥n"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Fechas"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:d.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.no_serie}),(0,b.jsx)("div",{className:"text-sm text-gray-700",children:a.nombreEquipo}),(0,b.jsx)("div",{className:"text-xs text-gray-400",children:a.sucursal})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(a=>({HARDWARE:"Hardware",SOFTWARE:"Software",CONECTIVIDAD:"Conectividad",SUMINISTROS:"Suministros",MECANICA:"Mec√°nica",ELECTRICA:"El√©ctrica",OTRA:"Otra"})[a]||a)(a.tipo_falla)}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full border ${(a=>{switch(a){case"CRITICA":return"bg-red-100 text-red-800 border-red-200";case"ALTA":return"bg-orange-100 text-orange-800 border-orange-200";case"NORMAL":return"bg-blue-100 text-blue-800 border-blue-200";case"BAJA":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(a.prioridad)}`,children:a.prioridad}),(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${(a=>{switch(a){case"ABIERTA":return"bg-red-100 text-red-800";case"EN_PROCESO":return"bg-yellow-100 text-yellow-800";case"RESUELTA":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(a.estatus)}`,children:a.estatus})]})}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"text-sm text-gray-900 max-w-xs",children:[(0,b.jsx)("div",{className:"font-medium mb-1",children:a.descripcion_problema}),a.sintomas&&(0,b.jsxs)("div",{className:"text-xs text-gray-700",children:["S√≠ntomas: ",a.sintomas]}),(0,b.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Reportado por: ",a.usuario_reporta]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a.tecnico_asignado||"Sin asignar"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:["Reportado: ",new Date(a.fecha_reporte).toLocaleDateString()]}),a.fecha_solucion&&(0,b.jsxs)("div",{children:["Resuelto: ",new Date(a.fecha_solucion).toLocaleDateString()]}),(0,b.jsxs)("div",{className:"text-xs text-gray-700",children:[a.diasAbierta," d√≠as transcurridos"]}),a.tiempo_solucion_horas&&(0,b.jsxs)("div",{className:"text-xs text-green-600",children:["Resuelto en ",a.tiempo_solucion_horas,"h"]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsxs)("button",{onClick:()=>{y(a),A(!0)},className:"text-gray-700 hover:text-gray-900 mr-3",children:[(0,b.jsx)("i",{className:"fas fa-edit"})," Actualizar"]})})]},a.id))})]}),0===d.length&&(0,b.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron fallas con los filtros aplicados"})]})]}),"reportar"===a&&(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Seleccionar Equipo"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("input",{type:"text",value:v,onChange:a=>{w(a.target.value),D(a.target.value)},placeholder:"Buscar equipos por n√∫mero de serie o nombre...",className:"w-full px-4 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "}),m.length>0&&(0,b.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:m.map(a=>(0,b.jsxs)("button",{onClick:()=>(a=>{p(a),u(b=>({...b,no_serie:a.no_serie,ubicacion_falla:`${a.SucursalActual} - ${a.AreaActual||"Sin especificar"}`})),w(`${a.no_serie} - ${a.nombreEquipo}`),n([])})(a),className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 ",children:[(0,b.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[a.no_serie," - ",a.nombreEquipo]}),(0,b.jsxs)("div",{className:"text-xs text-gray-700",children:[a.TipoEquipo," | ",a.SucursalActual]})]},a.no_serie))})]}),o&&(0,b.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,b.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Equipo Seleccionado"}),(0,b.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[o.no_serie," - ",o.nombreEquipo]}),(0,b.jsxs)("div",{className:"text-xs text-gray-700",children:[o.TipoEquipo," | ",o.SucursalActual]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Detalles de la Falla"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Falla *"}),(0,b.jsxs)("select",{value:s.tipo_falla,onChange:a=>u({...s,tipo_falla:a.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,b.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,b.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,b.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,b.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,b.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,b.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,b.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad *"}),(0,b.jsxs)("select",{value:s.prioridad,onChange:a=>u({...s,prioridad:a.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,b.jsx)("option",{value:"BAJA",children:"Baja"}),(0,b.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,b.jsx)("option",{value:"ALTA",children:"Alta"}),(0,b.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Impacto"}),(0,b.jsxs)("select",{value:s.impacto,onChange:a=>u({...s,impacto:a.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,b.jsx)("option",{value:"BAJO",children:"Bajo"}),(0,b.jsx)("option",{value:"MEDIO",children:"Medio"}),(0,b.jsx)("option",{value:"ALTO",children:"Alto"}),(0,b.jsx)("option",{value:"CRITICO",children:"Cr√≠tico"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T√©cnico Asignado"}),(0,b.jsxs)("select",{value:s.tecnico_asignado,onChange:a=>u({...s,tecnico_asignado:a.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,b.jsx)("option",{value:"",children:"Asignar despu√©s..."}),q.map(a=>(0,b.jsx)("option",{value:a.nombre,children:a.nombre},a.id))]})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuario que Reporta *"}),(0,b.jsx)("input",{type:"text",value:s.usuario_reporta,onChange:a=>u({...s,usuario_reporta:a.target.value}),placeholder:"Nombre del usuario que reporta la falla",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripci√≥n del Problema *"}),(0,b.jsx)("textarea",{value:s.descripcion_problema,onChange:a=>u({...s,descripcion_problema:a.target.value}),rows:3,placeholder:"Describe detalladamente el problema...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"S√≠ntomas Observados"}),(0,b.jsx)("textarea",{value:s.sintomas,onChange:a=>u({...s,sintomas:a.target.value}),rows:2,placeholder:"S√≠ntomas espec√≠ficos que presenta el equipo...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observaciones Adicionales"}),(0,b.jsx)("textarea",{value:s.observaciones,onChange:a=>u({...s,observaciones:a.target.value}),rows:2,placeholder:"Informaci√≥n adicional relevante...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",id:"requiere_repuestos",checked:s.requiere_repuestos,onChange:a=>u({...s,requiere_repuestos:a.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:"requiere_repuestos",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Requiere repuestos"})]}),(0,b.jsxs)("button",{onClick:E,disabled:!o||!s.descripcion_problema||!s.usuario_reporta,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700    disabled:bg-gray-400 disabled:cursor-not-allowed   flex items-center justify-center space-x-2",children:[(0,b.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,b.jsx)("span",{children:"Reportar Falla"})]})]})]})}),"estadisticas"===a&&g&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Fallas Abiertas"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:g.abiertas})]}),(0,b.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"En Proceso"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:g.en_proceso})]}),(0,b.jsx)("i",{className:"fas fa-tools text-2xl text-yellow-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Resueltas"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:g.resueltas})]}),(0,b.jsx)("i",{className:"fas fa-check-circle text-2xl text-green-600"})]})}),(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:g.total})]}),(0,b.jsx)("i",{className:"fas fa-clipboard-list text-2xl text-blue-600"})]})})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Tipo de Falla"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:g.por_tipo.hardware}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Hardware"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.por_tipo.software}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Software"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g.por_tipo.conectividad}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Conectividad"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:g.por_tipo.suministros}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Suministros"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:g.por_tipo.mecanica}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Mec√°nica"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:g.por_tipo.electrica}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"El√©ctrica"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:g.por_tipo.otra}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Otra"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Prioridad"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-red-600",children:g.por_prioridad.critica}),(0,b.jsx)("div",{className:"text-sm text-gray-600",children:"Cr√≠tica"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:g.por_prioridad.alta}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Alta"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:g.por_prioridad.normal}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Normal"})]}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:g.por_prioridad.baja}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Baja"})]})]})]}),g.promedio_solucion_horas>0&&(0,b.jsxs)("div",{className:"bg-white  p-6 rounded-lg border border-gray-200 ",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:"Tiempo Promedio de Soluci√≥n"}),(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[g.promedio_solucion_horas,"h"]}),(0,b.jsx)("div",{className:"text-sm text-gray-600 ",children:"Promedio para fallas resueltas"})]})]}),g.por_tecnico.length>0&&(0,b.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rendimiento por T√©cnico"}),(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Asignadas"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Resueltas"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"En Proceso"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Promedio (h)"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:g.por_tecnico.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 ",children:a.tecnico}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:a.total_asignadas}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:a.resueltas}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-600",children:a.en_proceso}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:[a.promedio_horas,"h"]})]},c))})]})})]})]})]}),z&&x&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,b.jsxs)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:["Actualizar Falla #",x?.id]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nuevo Estatus"}),(0,b.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:a=>{let b=a.target.value;if("RESUELTA"===b){let a=prompt("Ingrese las horas de soluci√≥n:"),c=prompt("Ingrese la soluci√≥n aplicada:");F({estatus:b,tiempo_solucion_horas:a?parseFloat(a):void 0,solucion_aplicada:c||void 0})}else F({estatus:b})},children:[(0,b.jsx)("option",{value:"",children:"Seleccionar nuevo estatus..."}),(0,b.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,b.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,b.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asignar T√©cnico"}),(0,b.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:a=>{a.target.value&&F({tecnico_asignado:a.target.value})},children:[(0,b.jsx)("option",{value:"",children:"Asignar t√©cnico..."}),q.map(a=>(0,b.jsx)("option",{value:a.nombre,children:a.nombre},a.id))]})]})]}),(0,b.jsx)("div",{className:"flex justify-end space-x-2 mt-6",children:(0,b.jsx)("button",{onClick:()=>A(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancelar"})})]})})]})},v=()=>(0,b.jsx)(u,{});var w=a.i(35112);function x({toast:a,onClose:c}){let[d,e]=(0,f.useState)(!1),[g,h]=(0,f.useState)(!1);(0,f.useEffect)(()=>{if(setTimeout(()=>e(!0),100),a.duration){let b=setTimeout(()=>{i()},a.duration);return()=>clearTimeout(b)}},[a.duration]);let i=()=>{h(!0),setTimeout(()=>{c(a.id)},300)};return(0,b.jsx)("div",{className:`transform transition-all duration-300 ease-in-out ${d&&!g?"translate-x-0":"translate-x-full"} mb-4 w-full max-w-md`,role:"alert","aria-live":"polite",children:(0,b.jsx)("div",{className:`rounded-xl shadow-lg overflow-hidden ${(()=>{let b="border-l-4";switch(a.type){case"success":return`${b} border-gostcam-success bg-gostcam-success-light`;case"error":return`${b} border-gostcam-danger bg-gostcam-danger-light`;case"warning":return`${b} border-gostcam-warning bg-gostcam-warning-light`;default:return`${b} border-gostcam-info bg-gostcam-info-light`}})()}`,children:(0,b.jsx)("div",{className:"p-4",children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)("i",{className:`${(()=>{switch(a.type){case"success":return"fas fa-check-circle text-gostcam-success";case"error":return"fas fa-exclamation-circle text-gostcam-danger";case"warning":return"fas fa-exclamation-triangle text-gostcam-warning";default:return"fas fa-info-circle text-gostcam-info"}})()} text-xl`})}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-sm font-semibold text-gostcam-text-primary mb-1",children:a.title}),a.message&&(0,b.jsx)("p",{className:"text-sm text-gostcam-text-secondary",children:a.message}),a.actions&&a.actions.length>0&&(0,b.jsx)("div",{className:"mt-3 flex gap-2",children:a.actions.map((a,c)=>(0,b.jsx)(m,{variant:a.variant||"ghost",size:"sm",onClick:a.onClick,children:a.label},c))})]}),(0,b.jsx)("div",{className:"flex-shrink-0",children:(0,b.jsx)(n,{variant:"ghost",size:"sm",icon:(0,b.jsx)("i",{className:"fas fa-times"}),ariaLabel:"Cerrar notificaci√≥n",onClick:i,className:"text-gostcam-text-muted hover:text-gostcam-text-primary"})})]})})})})}function y({toasts:a,onRemoveToast:c}){return 0===a.length?null:(0,w.createPortal)((0,b.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col-reverse space-y-reverse space-y-4 max-h-screen overflow-hidden","aria-label":"Notificaciones",children:a.map(a=>(0,b.jsx)(x,{toast:a,onClose:c},a.id))}),document.body)}function z({className:a="",width:c,height:d,rounded:e="md",animate:f=!0}){let g={};return c&&(g.width="number"==typeof c?`${c}px`:c),d&&(g.height="number"==typeof d?`${d}px`:d),(0,b.jsx)("div",{className:["bg-gostcam-gray-200",{none:"rounded-none",sm:"rounded-sm",md:"rounded-lg",lg:"rounded-xl",full:"rounded-full"}[e],f?"animate-wave":"",a].join(" "),style:g,"aria-hidden":"true"})}function A({hasImage:a=!1,hasActions:c=!1,className:d=""}){return(0,b.jsxs)("div",{className:`bg-white rounded-xl border border-gostcam-border-light p-6 space-y-4 ${d}`,children:[a&&(0,b.jsx)(z,{height:"12rem",className:"w-full"}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(z,{height:"1.5rem",width:"80%"}),(0,b.jsx)(z,{height:"1rem",width:"100%"}),(0,b.jsx)(z,{height:"1rem",width:"60%"})]}),c&&(0,b.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,b.jsx)(z,{height:"2.5rem",width:"5rem"}),(0,b.jsx)(z,{height:"2.5rem",width:"4rem"})]})]})}function B({rows:a=5,columns:c=4,hasHeader:d=!0,className:e=""}){return(0,b.jsxs)("div",{className:`bg-white rounded-xl border border-gostcam-border-light overflow-hidden ${e}`,children:[d&&(0,b.jsx)("div",{className:"px-6 py-4 border-b border-gostcam-border-light",children:(0,b.jsx)("div",{className:"flex gap-4",children:Array.from({length:c},(a,c)=>(0,b.jsx)(z,{height:"1.25rem",width:"6rem"},c))})}),(0,b.jsx)("div",{className:"divide-y divide-gostcam-border-light",children:Array.from({length:a},(a,d)=>(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsx)("div",{className:"flex gap-4 items-center",children:Array.from({length:c},(a,c)=>(0,b.jsx)(z,{height:"1rem",width:0===c?"8rem":"6rem"},c))})},d))})]})}function C({items:a=3,hasAvatar:c=!1,hasActions:d=!1,className:e=""}){return(0,b.jsx)("div",{className:`bg-white rounded-xl border border-gostcam-border-light divide-y divide-gostcam-border-light ${e}`,children:Array.from({length:a},(a,e)=>(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[c&&(0,b.jsx)(z,{width:"3rem",height:"3rem",rounded:"full"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(z,{height:"1.25rem",width:"60%"}),(0,b.jsx)(z,{height:"1rem",width:"40%"})]}),d&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(z,{width:"2rem",height:"2rem",rounded:"md"}),(0,b.jsx)(z,{width:"2rem",height:"2rem",rounded:"md"})]})]})},e))})}function D({items:a=4,className:c=""}){return(0,b.jsx)("div",{className:`grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ${c}`,children:Array.from({length:a},(a,c)=>(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)(z,{width:"3rem",height:"3rem",rounded:"lg"}),(0,b.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,b.jsx)(z,{height:"1rem",width:"70%"}),(0,b.jsx)(z,{height:"2rem",width:"50%"})]})]})},c))})}function E({className:a=""}){return(0,b.jsxs)("div",{className:`space-y-8 ${a}`,children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(z,{height:"2rem",width:"40%"}),(0,b.jsx)(z,{height:"1rem",width:"60%"})]}),(0,b.jsx)(D,{}),(0,b.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)(z,{height:"1.5rem",width:"30%"}),(0,b.jsx)(z,{height:"20rem",className:"w-full"})]})}),(0,b.jsx)(B,{})]})}function F({fields:a=5,hasTitle:c=!0,hasActions:d=!0,className:e=""}){return(0,b.jsxs)("div",{className:`bg-white rounded-xl border border-gostcam-border-light p-6 space-y-6 ${e}`,children:[c&&(0,b.jsxs)("div",{className:"space-y-2 pb-4 border-b border-gostcam-border-light",children:[(0,b.jsx)(z,{height:"2rem",width:"40%"}),(0,b.jsx)(z,{height:"1rem",width:"70%"})]}),(0,b.jsx)("div",{className:"space-y-6",children:Array.from({length:a},(a,c)=>(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(z,{height:"1.25rem",width:"6rem"}),(0,b.jsx)(z,{height:"3rem",className:"w-full"})]},c))}),d&&(0,b.jsxs)("div",{className:"pt-4 border-t border-gostcam-border-light flex gap-3",children:[(0,b.jsx)(z,{height:"2.75rem",width:"6rem"}),(0,b.jsx)(z,{height:"2.75rem",width:"5rem"})]})]})}function G({type:a,className:c=""}){return(0,b.jsx)("div",{className:`animate-pulse ${c}`,children:(()=>{switch(a){case"dashboard":default:return(0,b.jsx)(E,{});case"table":return(0,b.jsx)(B,{rows:8,columns:5});case"form":return(0,b.jsx)(F,{});case"list":return(0,b.jsx)(C,{items:6,hasAvatar:!0,hasActions:!0});case"cards":return(0,b.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6},(a,c)=>(0,b.jsx)(A,{hasImage:!0,hasActions:!0},c))})}})()})}function H(){let{state:a}=(0,c.useApp)(),{toasts:g,removeToast:h}=function(){let[a,b]=(0,f.useState)([]),c=a=>{let c=Date.now().toString()+Math.random().toString(36).substring(2),d={...a,id:c,duration:a.duration??5e3};return b(a=>[d,...a]),c};return{toasts:a,addToast:c,removeToast:a=>{b(b=>b.filter(b=>b.id!==a))},success:(a,b,d)=>c({type:"success",title:a,message:b,actions:d}),error:(a,b,d)=>c({type:"error",title:a,message:b,actions:d,duration:8e3}),warning:(a,b,d)=>c({type:"warning",title:a,message:b,actions:d,duration:6e3}),info:(a,b,d)=>c({type:"info",title:a,message:b,actions:d})}}();return a.isAuthenticated?a.isLoading?(0,b.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:"flex-1 p-6",children:(0,b.jsx)(G,{type:"dashboard"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:"flex-1",children:(()=>{switch(a.currentSection){case"dashboard":default:return(0,b.jsx)(p,{});case"equipos":return(0,b.jsx)(q.default,{});case"sucursales":return(0,b.jsx)(s,{});case"fallas":return(0,b.jsx)(v,{})}})()})]}),(0,b.jsx)(y,{toasts:g,onRemoveToast:h})]}):(0,b.jsx)(d.default,{})}function I(){return(0,b.jsx)(c.AppProvider,{children:(0,b.jsx)(H,{})})}}];

//# sourceMappingURL=src_app_page_tsx_a7111f3e._.js.map