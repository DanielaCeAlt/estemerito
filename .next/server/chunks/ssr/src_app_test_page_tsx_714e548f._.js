module.exports=[73951,a=>{"use strict";a.s(["default",()=>j],73951);var b=a.i(87924),c=a.i(72131);function d(...a){return a.filter(Boolean).join(" ")}let e=c.default.forwardRef(({className:a,leftIcon:c,rightIcon:e,...f},g)=>(0,b.jsxs)("div",{className:"relative",children:[c&&(0,b.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:c}),(0,b.jsx)("input",{ref:g,className:d("w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",c&&"pl-10",e&&"pr-10",a),...f}),e&&(0,b.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e})]}));function f({value:a,onChange:f,suggestions:g=[],placeholder:h="Buscar...",showHistory:i=!0,searchHistory:j=[],onSuggestionSelect:k,onClear:l,isSearching:m=!1,resultsCount:n,searchTime:o,className:p}){let[q,r]=(0,c.useState)(!1),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)(-1),w=(0,c.useRef)(null),x=(0,c.useRef)(null),y=c.default.useMemo(()=>{let b=[];return b.push(...g),i&&!a.trim()&&j.length>0&&j.slice(0,5).forEach(a=>{b.push({text:a,type:"recent"})}),b},[g,i,a,j]);return(0,c.useEffect)(()=>{let a=a=>{x.current&&!x.current.contains(a.target)&&(t(!1),v(-1))};return document.addEventListener("mousedown",a),()=>document.removeEventListener("mousedown",a)},[]),(0,b.jsxs)("div",{className:d("relative",p),children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(e,{ref:w,value:a,onChange:a=>f(a.target.value),onFocus:()=>{r(!0),t(!0)},onBlur:()=>r(!1),onKeyDown:a=>{if(s&&0!==y.length)switch(a.key){case"ArrowDown":a.preventDefault(),v(a=>a<y.length-1?a+1:0);break;case"ArrowUp":a.preventDefault(),v(a=>a>0?a-1:y.length-1);break;case"Enter":if(a.preventDefault(),u>=0&&u<y.length){let a=y[u];f(a.text),k?.(a),t(!1),v(-1)}break;case"Escape":t(!1),v(-1),w.current?.blur()}},placeholder:h,leftIcon:m?(0,b.jsx)("i",{className:"fas fa-spinner fa-spin text-blue-500"}):(0,b.jsx)("i",{className:"fas fa-search text-gray-400"}),rightIcon:a&&(0,b.jsx)("button",{onClick:()=>{f(""),l?.(),w.current?.focus()},className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Limpiar b√∫squeda",children:(0,b.jsx)("i",{className:"fas fa-times"})}),className:"pr-12"}),q&&(0,b.jsx)("div",{className:"absolute inset-0 rounded-lg ring-2 ring-blue-500 ring-opacity-20 pointer-events-none"})]}),(void 0!==n||void 0!==o)&&a&&(0,b.jsx)("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-1 px-1",children:(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[void 0!==n&&(0,b.jsxs)("span",{children:[n.toLocaleString()," resultado",1!==n?"s":""]}),void 0!==o&&(0,b.jsxs)("span",{children:["(",o.toFixed(0),"ms)"]})]})}),s&&y.length>0&&(0,b.jsxs)("div",{ref:x,className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[i&&!a.trim()&&j.length>0&&(0,b.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b border-gray-100",children:"B√∫squedas recientes"}),(0,b.jsx)("div",{className:"py-1",children:y.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{f(a.text),k?.(a),t(!1),v(-1),w.current?.focus()},className:d("w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors flex items-center space-x-3",u===c&&"bg-blue-50 border-l-2 border-blue-500"),onMouseEnter:()=>v(c),children:[(0,b.jsx)("i",{className:d((a=>{switch(a){case"recent":return"fas fa-clock";case"popular":return"fas fa-fire";case"autocomplete":default:return"fas fa-search";case"field":return"fas fa-tag"}})(a.type),(a=>{switch(a){case"recent":default:return"text-gray-500";case"popular":return"text-orange-500";case"autocomplete":return"text-blue-500";case"field":return"text-purple-500"}})(a.type),"text-sm flex-shrink-0")}),(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("div",{className:"text-sm text-gray-900 truncate",children:a.text}),(a.field||void 0!==a.count)&&(0,b.jsxs)("div",{className:"text-xs text-gray-500",children:[a.field&&`en ${a.field}`,void 0!==a.count&&` (${a.count})`]})]}),"recent"===a.type&&(0,b.jsx)("div",{className:"text-xs text-gray-400",children:"Reciente"})]},`${a.type}-${a.text}-${c}`))})]})]})}e.displayName="SearchInput";var g=a.i(63814);function h({filters:a,values:e,onChange:f,onClear:h,savedFilters:i=[],facets:j={},activeFilters:k=[],className:l}){let[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(new Set(["basic"])),q=k.length>0;return(0,b.jsxs)("div",{className:d("bg-white rounded-lg shadow-sm border border-gray-200 p-6",l),children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[(0,b.jsx)("i",{className:"fas fa-filter mr-2 text-blue-500"}),"Filtros Avanzados"]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)(g.default,{variant:"ghost",onClick:()=>n(!m),leftIcon:(0,b.jsx)("i",{className:`fas fa-chevron-${m?"up":"down"}`}),children:m?"Contraer":"Expandir"}),q&&(0,b.jsx)(g.default,{variant:"outline",onClick:h,leftIcon:(0,b.jsx)("i",{className:"fas fa-times"}),children:"Limpiar"})]})]}),m&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.map(a=>{let c=e[a.id];switch(a.type){case"text":return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a.label}),(0,b.jsx)("input",{type:"text",value:c||"",onChange:b=>f(a.id,b.target.value),placeholder:a.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},a.id);case"select":return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a.label}),(0,b.jsxs)("select",{value:c||"",onChange:b=>f(a.id,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,b.jsx)("option",{value:"",children:a.placeholder||"Seleccionar..."}),a.options?.map(c=>(0,b.jsxs)("option",{value:c.value,children:[c.label,j[a.id]?.find(a=>a.value===c.value)?.count&&` (${j[a.id]?.find(a=>a.value===c.value)?.count})`]},c.value))]})]},a.id);case"boolean":return(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",id:a.id,checked:!!c,onChange:b=>f(a.id,b.target.checked),className:"rounded focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("label",{htmlFor:a.id,className:"text-sm font-medium text-gray-700",children:a.label})]},a.id);case"date":return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a.label}),(0,b.jsx)("input",{type:"date",value:c||"",onChange:b=>f(a.id,b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},a.id);case"range":let[d,g]=Array.isArray(c)?c:[0,100];return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a.label}),(0,b.jsxs)("div",{className:"flex space-x-2",children:[(0,b.jsx)("input",{type:"number",value:d,onChange:b=>f(a.id,[Number(b.target.value),g]),placeholder:"M√≠n",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("input",{type:"number",value:g,onChange:b=>f(a.id,[d,Number(b.target.value)]),placeholder:"M√°x",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},a.id);case"multiselect":return(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:a.label}),(0,b.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto border rounded-lg p-2",children:a.options?.map(d=>(0,b.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,b.jsx)("input",{type:"checkbox",checked:!!Array.isArray(c)&&c.includes(d.value),onChange:b=>{let e=Array.isArray(c)?c:[],g=b.target.checked?[...e,d.value]:e.filter(a=>a!==d.value);f(a.id,g)},className:"rounded focus:ring-2 focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm",children:d.label}),j[a.id]?.find(a=>a.value===d.value)?.count&&(0,b.jsxs)("span",{className:"text-xs text-gray-500",children:["(",j[a.id]?.find(a=>a.value===d.value)?.count,")"]})]},d.value))})]},a.id);default:return null}})}),q&&(0,b.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,b.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,b.jsx)("i",{className:"fas fa-info-circle mr-1"}),k.length," filtro(s) activo(s)"]})})]})]})}let i=({filters:a,values:c,onChange:d})=>{let e=a.filter(a=>{let b=c[a.id];return b&&""!==b&&0!==b&&(!Array.isArray(b)||b.length>0)});return 0===e.length?null:(0,b.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map(a=>{let e=c[a.id],f=((a,b)=>{if("multiselect"===a.type&&Array.isArray(b))return 1===b.length?a.options?.find(a=>a.value===b[0])?.label||b[0]:`${b.length} seleccionados`;if("select"===a.type)return a.options?.find(a=>a.value===b)?.label||b;if("date"===a.type)return new Date(b).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});if("range"===a.type){if(Array.isArray(b)){let[a,c]=b;return`${a} - ${c}`}return b.toString()}return"boolean"===a.type?b?"S√≠":"No":b.toString()})(a,e);return(0,b.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-800 text-sm rounded-full border border-blue-200",children:[(0,b.jsxs)("span",{className:"font-medium",children:[a.label,":"]}),(0,b.jsx)("span",{children:f}),(0,b.jsx)("button",{onClick:()=>((a,b)=>{switch(b.type){case"multiselect":d(a,[]);break;case"boolean":d(a,!1);break;case"range":d(a,[0,100]);break;default:d(a,"")}})(a.id,a),className:"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors",title:`Quitar filtro ${a.label}`,children:(0,b.jsx)("i",{className:"fas fa-times text-xs"})})]},a.id)})})};function j(){let[a,d]=c.default.useState(""),[e,g]=c.default.useState({}),j=[{id:"tipo",label:"Tipo",type:"select",placeholder:"Seleccionar tipo",options:[{value:"camara",label:"C√°mara"},{value:"sensor",label:"Sensor"},{value:"dispositivo",label:"Dispositivo"}]},{id:"estado",label:"Estado",type:"select",placeholder:"Seleccionar estado",options:[{value:"activo",label:"Activo"},{value:"inactivo",label:"Inactivo"},{value:"mantenimiento",label:"Mantenimiento"}]},{id:"activo",label:"Activo",type:"boolean"}];return(0,b.jsx)("div",{className:"p-8 space-y-6 bg-gray-50 min-h-screen",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üéâ GostCAM - Sistema de B√∫squeda Avanzado"}),(0,b.jsx)("p",{className:"text-gray-600 mb-8",children:"Prueba del sistema avanzado de b√∫squeda y filtros implementado"}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"B√∫squeda Avanzada"}),(0,b.jsx)(f,{value:a,onChange:d,placeholder:"Buscar equipos...",suggestions:[],isSearching:!1,resultsCount:0})]}),(0,b.jsx)("div",{className:"mb-6",children:(0,b.jsx)(h,{filters:j,values:e,onChange:(a,b)=>{g(c=>({...c,[a]:b}))},onClear:()=>g({}),activeFilters:Object.keys(e).filter(a=>e[a])})}),(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,b.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Filtros Activos"}),(0,b.jsx)(i,{filters:j,values:e,onChange:(a,b)=>{g(c=>({...c,[a]:b}))}}),0===Object.keys(e).length&&(0,b.jsx)("p",{className:"text-gray-500 italic",children:"No hay filtros activos"})]}),(0,b.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("i",{className:"fas fa-check-circle text-green-500 mr-2"}),(0,b.jsx)("span",{className:"font-medium text-green-800",children:"‚úÖ Task 10: Sistema de B√∫squeda y Filtros Avanzado - COMPLETADO"})]}),(0,b.jsx)("p",{className:"text-green-700 text-sm mt-2",children:"Todos los componentes est√°n funcionando correctamente. El sistema incluye b√∫squeda en tiempo real, filtros avanzados, chips de filtros y persistencia."})]}),(0,b.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,b.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Estado Actual:"}),(0,b.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"B√∫squeda:"}),' "',a,'"']}),(0,b.jsxs)("p",{children:[(0,b.jsx)("strong",{children:"Filtros:"})," ",JSON.stringify(e,null,2)]})]})]})]})})}}];

//# sourceMappingURL=src_app_test_page_tsx_714e548f._.js.map