{"version":3,"sources":["turbopack:///[project]/src/app/test/page.tsx","turbopack:///[project]/src/lib/utils.ts","turbopack:///[project]/src/components/ui/AdvancedSearch.tsx","turbopack:///[project]/src/components/ui/AdvancedFiltersSimple.tsx","turbopack:///[project]/src/components/ui/FilterChips.tsx"],"sourcesContent":["'use client';\r\n\r\nimport React from 'react';\r\nimport AdvancedSearch from '@/components/ui/AdvancedSearch';\r\nimport AdvancedFilters from '@/components/ui/AdvancedFiltersSimple';\r\nimport FilterChips from '@/components/ui/FilterChips';\r\n\r\nexport default function TestPage() {\r\n  const [searchValue, setSearchValue] = React.useState('');\r\n  const [filters, setFilters] = React.useState({});\r\n\r\n  const sampleFilters = [\r\n    {\r\n      id: 'tipo',\r\n      label: 'Tipo',\r\n      type: 'select' as const,\r\n      placeholder: 'Seleccionar tipo',\r\n      options: [\r\n        { value: 'camara', label: 'C√°mara' },\r\n        { value: 'sensor', label: 'Sensor' },\r\n        { value: 'dispositivo', label: 'Dispositivo' }\r\n      ]\r\n    },\r\n    {\r\n      id: 'estado',\r\n      label: 'Estado',\r\n      type: 'select' as const,\r\n      placeholder: 'Seleccionar estado',\r\n      options: [\r\n        { value: 'activo', label: 'Activo' },\r\n        { value: 'inactivo', label: 'Inactivo' },\r\n        { value: 'mantenimiento', label: 'Mantenimiento' }\r\n      ]\r\n    },\r\n    {\r\n      id: 'activo',\r\n      label: 'Activo',\r\n      type: 'boolean' as const\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"p-8 space-y-6 bg-gray-50 min-h-screen\">\r\n      <div className=\"max-w-4xl mx-auto\">\r\n        <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n          üéâ GostCAM - Sistema de B√∫squeda Avanzado\r\n        </h1>\r\n        <p className=\"text-gray-600 mb-8\">\r\n          Prueba del sistema avanzado de b√∫squeda y filtros implementado\r\n        </p>\r\n\r\n        {/* Test AdvancedSearch */}\r\n        <div className=\"bg-white rounded-lg shadow p-6 mb-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">B√∫squeda Avanzada</h2>\r\n          <AdvancedSearch\r\n            value={searchValue}\r\n            onChange={setSearchValue}\r\n            placeholder=\"Buscar equipos...\"\r\n            suggestions={[]}\r\n            isSearching={false}\r\n            resultsCount={0}\r\n          />\r\n        </div>\r\n\r\n        {/* Test AdvancedFilters */}\r\n        <div className=\"mb-6\">\r\n          <AdvancedFilters\r\n            filters={sampleFilters}\r\n            values={filters}\r\n            onChange={(filterId, value) => {\r\n              setFilters(prev => ({ ...prev, [filterId]: value }));\r\n            }}\r\n            onClear={() => setFilters({})}\r\n            activeFilters={Object.keys(filters).filter(key => filters[key as keyof typeof filters])}\r\n          />\r\n        </div>\r\n\r\n        {/* Test FilterChips */}\r\n        <div className=\"bg-white rounded-lg shadow p-6\">\r\n          <h2 className=\"text-xl font-semibold mb-4\">Filtros Activos</h2>\r\n          <FilterChips\r\n            filters={sampleFilters}\r\n            values={filters}\r\n            onChange={(filterId, value) => {\r\n              setFilters(prev => ({ ...prev, [filterId]: value }));\r\n            }}\r\n          />\r\n          {Object.keys(filters).length === 0 && (\r\n            <p className=\"text-gray-500 italic\">No hay filtros activos</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Status */}\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center\">\r\n            <i className=\"fas fa-check-circle text-green-500 mr-2\"></i>\r\n            <span className=\"font-medium text-green-800\">\r\n              ‚úÖ Task 10: Sistema de B√∫squeda y Filtros Avanzado - COMPLETADO\r\n            </span>\r\n          </div>\r\n          <p className=\"text-green-700 text-sm mt-2\">\r\n            Todos los componentes est√°n funcionando correctamente. \r\n            El sistema incluye b√∫squeda en tiempo real, filtros avanzados, chips de filtros y persistencia.\r\n          </p>\r\n        </div>\r\n\r\n        {/* Current filter values for debugging */}\r\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\r\n          <h3 className=\"font-medium text-blue-800 mb-2\">Estado Actual:</h3>\r\n          <div className=\"text-sm text-blue-700\">\r\n            <p><strong>B√∫squeda:</strong> \"{searchValue}\"</p>\r\n            <p><strong>Filtros:</strong> {JSON.stringify(filters, null, 2)}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","export function cn(...classes: any[]): string {\r\n  return classes.filter(Boolean).join(' ');\r\n}\r\n\r\nexport function debounce<T extends (...args: any[]) => void>(\r\n  func: T,\r\n  wait: number\r\n): (...args: Parameters<T>) => void {\r\n  let timeout: NodeJS.Timeout;\r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(() => func(...args), wait);\r\n  };\r\n}","'use client';\r\n\r\nimport React, { useState, useRef, useEffect } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { SearchSuggestion } from '@/hooks/useSearch';\r\nimport MobileButton from './MobileButton';\r\n\r\n// Input b√°sico para evitar dependencias circulares\r\nconst SearchInput = React.forwardRef<HTMLInputElement, React.InputHTMLAttributes<HTMLInputElement> & { leftIcon?: React.ReactNode; rightIcon?: React.ReactNode }>(\r\n  ({ className, leftIcon, rightIcon, ...props }, ref) => (\r\n    <div className=\"relative\">\r\n      {leftIcon && (\r\n        <div className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\">\r\n          {leftIcon}\r\n        </div>\r\n      )}\r\n      <input\r\n        ref={ref}\r\n        className={cn(\r\n          \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\",\r\n          leftIcon && \"pl-10\",\r\n          rightIcon && \"pr-10\",\r\n          className\r\n        )}\r\n        {...props}\r\n      />\r\n      {rightIcon && (\r\n        <div className=\"absolute right-3 top-1/2 transform -translate-y-1/2\">\r\n          {rightIcon}\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n);\r\nSearchInput.displayName = 'SearchInput';\r\n\r\ninterface AdvancedSearchProps {\r\n  /** Valor actual de b√∫squeda */\r\n  value: string;\r\n  /** Callback al cambiar el valor */\r\n  onChange: (value: string) => void;\r\n  /** Sugerencias de b√∫squeda */\r\n  suggestions?: SearchSuggestion[];\r\n  /** Placeholder del input */\r\n  placeholder?: string;\r\n  /** Mostrar historial reciente */\r\n  showHistory?: boolean;\r\n  /** Historial de b√∫squedas */\r\n  searchHistory?: string[];\r\n  /** Callback al seleccionar sugerencia */\r\n  onSuggestionSelect?: (suggestion: SearchSuggestion) => void;\r\n  /** Callback al limpiar b√∫squeda */\r\n  onClear?: () => void;\r\n  /** Est√° buscando */\r\n  isSearching?: boolean;\r\n  /** N√∫mero de resultados */\r\n  resultsCount?: number;\r\n  /** Tiempo de b√∫squeda */\r\n  searchTime?: number;\r\n  /** Clase personalizada */\r\n  className?: string;\r\n}\r\n\r\n/**\r\n * Componente de b√∫squeda avanzada con sugerencias y autocompletado\r\n */\r\nexport default function AdvancedSearch({\r\n  value,\r\n  onChange,\r\n  suggestions = [],\r\n  placeholder = \"Buscar...\",\r\n  showHistory = true,\r\n  searchHistory = [],\r\n  onSuggestionSelect,\r\n  onClear,\r\n  isSearching = false,\r\n  resultsCount,\r\n  searchTime,\r\n  className\r\n}: AdvancedSearchProps) {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const [showSuggestions, setShowSuggestions] = useState(false);\r\n  const [selectedIndex, setSelectedIndex] = useState(-1);\r\n  const inputRef = useRef<HTMLInputElement>(null);\r\n  const suggestionsRef = useRef<HTMLDivElement>(null);\r\n\r\n  // Combinar sugerencias con historial\r\n  const allSuggestions = React.useMemo(() => {\r\n    const combined: SearchSuggestion[] = [];\r\n\r\n    // Agregar sugerencias principales\r\n    combined.push(...suggestions);\r\n\r\n    // Agregar historial si est√° habilitado y no hay query\r\n    if (showHistory && !value.trim() && searchHistory.length > 0) {\r\n      searchHistory.slice(0, 5).forEach(item => {\r\n        combined.push({\r\n          text: item,\r\n          type: 'recent'\r\n        });\r\n      });\r\n    }\r\n\r\n    return combined;\r\n  }, [suggestions, showHistory, value, searchHistory]);\r\n\r\n  // Manejar teclas\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (!showSuggestions || allSuggestions.length === 0) return;\r\n\r\n    switch (e.key) {\r\n      case 'ArrowDown':\r\n        e.preventDefault();\r\n        setSelectedIndex(prev => \r\n          prev < allSuggestions.length - 1 ? prev + 1 : 0\r\n        );\r\n        break;\r\n\r\n      case 'ArrowUp':\r\n        e.preventDefault();\r\n        setSelectedIndex(prev => \r\n          prev > 0 ? prev - 1 : allSuggestions.length - 1\r\n        );\r\n        break;\r\n\r\n      case 'Enter':\r\n        e.preventDefault();\r\n        if (selectedIndex >= 0 && selectedIndex < allSuggestions.length) {\r\n          const suggestion = allSuggestions[selectedIndex];\r\n          onChange(suggestion.text);\r\n          onSuggestionSelect?.(suggestion);\r\n          setShowSuggestions(false);\r\n          setSelectedIndex(-1);\r\n        }\r\n        break;\r\n\r\n      case 'Escape':\r\n        setShowSuggestions(false);\r\n        setSelectedIndex(-1);\r\n        inputRef.current?.blur();\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Manejar selecci√≥n de sugerencia\r\n  const handleSuggestionClick = (suggestion: SearchSuggestion) => {\r\n    onChange(suggestion.text);\r\n    onSuggestionSelect?.(suggestion);\r\n    setShowSuggestions(false);\r\n    setSelectedIndex(-1);\r\n    inputRef.current?.focus();\r\n  };\r\n\r\n  // Obtener icono por tipo de sugerencia\r\n  const getSuggestionIcon = (type: SearchSuggestion['type']) => {\r\n    switch (type) {\r\n      case 'recent':\r\n        return 'fas fa-clock';\r\n      case 'popular':\r\n        return 'fas fa-fire';\r\n      case 'autocomplete':\r\n        return 'fas fa-search';\r\n      case 'field':\r\n        return 'fas fa-tag';\r\n      default:\r\n        return 'fas fa-search';\r\n    }\r\n  };\r\n\r\n  // Obtener color por tipo\r\n  const getSuggestionColor = (type: SearchSuggestion['type']) => {\r\n    switch (type) {\r\n      case 'recent':\r\n        return 'text-gray-500';\r\n      case 'popular':\r\n        return 'text-orange-500';\r\n      case 'autocomplete':\r\n        return 'text-blue-500';\r\n      case 'field':\r\n        return 'text-purple-500';\r\n      default:\r\n        return 'text-gray-500';\r\n    }\r\n  };\r\n\r\n  // Cerrar sugerencias al hacer clic fuera\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (suggestionsRef.current && !suggestionsRef.current.contains(event.target as Node)) {\r\n        setShowSuggestions(false);\r\n        setSelectedIndex(-1);\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={cn('relative', className)}>\r\n      {/* Input principal */}\r\n      <div className=\"relative\">\r\n        <SearchInput\r\n          ref={inputRef}\r\n          value={value}\r\n          onChange={(e) => onChange(e.target.value)}\r\n          onFocus={() => {\r\n            setIsFocused(true);\r\n            setShowSuggestions(true);\r\n          }}\r\n          onBlur={() => setIsFocused(false)}\r\n          onKeyDown={handleKeyDown}\r\n          placeholder={placeholder}\r\n          leftIcon={\r\n            isSearching ? (\r\n              <i className=\"fas fa-spinner fa-spin text-blue-500\" />\r\n            ) : (\r\n              <i className=\"fas fa-search text-gray-400\" />\r\n            )\r\n          }\r\n          rightIcon={\r\n            value && (\r\n              <button\r\n                onClick={() => {\r\n                  onChange('');\r\n                  onClear?.();\r\n                  inputRef.current?.focus();\r\n                }}\r\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\r\n                title=\"Limpiar b√∫squeda\"\r\n              >\r\n                <i className=\"fas fa-times\" />\r\n              </button>\r\n            )\r\n          }\r\n          className=\"pr-12\"\r\n        />\r\n\r\n        {/* Indicador de b√∫squeda activa */}\r\n        {isFocused && (\r\n          <div className=\"absolute inset-0 rounded-lg ring-2 ring-blue-500 ring-opacity-20 pointer-events-none\" />\r\n        )}\r\n      </div>\r\n\r\n      {/* Informaci√≥n de resultados */}\r\n      {(resultsCount !== undefined || searchTime !== undefined) && value && (\r\n        <div className=\"flex justify-between items-center text-xs text-gray-500 mt-1 px-1\">\r\n          <div className=\"flex items-center space-x-2\">\r\n            {resultsCount !== undefined && (\r\n              <span>\r\n                {resultsCount.toLocaleString()} resultado{resultsCount !== 1 ? 's' : ''}\r\n              </span>\r\n            )}\r\n            {searchTime !== undefined && (\r\n              <span>\r\n                ({searchTime.toFixed(0)}ms)\r\n              </span>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Panel de sugerencias */}\r\n      {showSuggestions && allSuggestions.length > 0 && (\r\n        <div \r\n          ref={suggestionsRef}\r\n          className=\"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto\"\r\n        >\r\n          {/* Header del historial */}\r\n          {showHistory && !value.trim() && searchHistory.length > 0 && (\r\n            <div className=\"px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b border-gray-100\">\r\n              B√∫squedas recientes\r\n            </div>\r\n          )}\r\n\r\n          {/* Lista de sugerencias */}\r\n          <div className=\"py-1\">\r\n            {allSuggestions.map((suggestion, index) => (\r\n              <button\r\n                key={`${suggestion.type}-${suggestion.text}-${index}`}\r\n                onClick={() => handleSuggestionClick(suggestion)}\r\n                className={cn(\r\n                  'w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors flex items-center space-x-3',\r\n                  selectedIndex === index && 'bg-blue-50 border-l-2 border-blue-500'\r\n                )}\r\n                onMouseEnter={() => setSelectedIndex(index)}\r\n              >\r\n                {/* Icono */}\r\n                <i className={cn(\r\n                  getSuggestionIcon(suggestion.type),\r\n                  getSuggestionColor(suggestion.type),\r\n                  'text-sm flex-shrink-0'\r\n                )} />\r\n\r\n                {/* Contenido */}\r\n                <div className=\"flex-1 min-w-0\">\r\n                  <div className=\"text-sm text-gray-900 truncate\">\r\n                    {suggestion.text}\r\n                  </div>\r\n                  \r\n                  {/* Informaci√≥n adicional */}\r\n                  {(suggestion.field || suggestion.count !== undefined) && (\r\n                    <div className=\"text-xs text-gray-500\">\r\n                      {suggestion.field && `en ${suggestion.field}`}\r\n                      {suggestion.count !== undefined && ` (${suggestion.count})`}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                {/* Indicador de tipo */}\r\n                {suggestion.type === 'recent' && (\r\n                  <div className=\"text-xs text-gray-400\">\r\n                    Reciente\r\n                  </div>\r\n                )}\r\n              </button>\r\n            ))}\r\n          </div>\r\n\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Componente de b√∫squeda r√°pida simple\r\n */\r\ninterface QuickSearchProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  resultsCount?: number;\r\n  isSearching?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport function QuickSearch({\r\n  value,\r\n  onChange,\r\n  placeholder = \"B√∫squeda r√°pida...\",\r\n  resultsCount,\r\n  isSearching,\r\n  className\r\n}: QuickSearchProps) {\r\n  return (\r\n    <div className={cn('relative', className)}>\r\n      <SearchInput\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        leftIcon={\r\n          isSearching ? (\r\n            <i className=\"fas fa-spinner fa-spin text-blue-500\" />\r\n          ) : (\r\n            <i className=\"fas fa-search text-gray-400\" />\r\n          )\r\n        }\r\n        rightIcon={\r\n          value && (\r\n            <button\r\n              onClick={() => onChange('')}\r\n              className=\"text-gray-400 hover:text-gray-600\"\r\n            >\r\n              <i className=\"fas fa-times\" />\r\n            </button>\r\n          )\r\n        }\r\n      />\r\n      \r\n      {resultsCount !== undefined && value && (\r\n        <div className=\"text-xs text-gray-500 mt-1\">\r\n          {resultsCount} resultado{resultsCount !== 1 ? 's' : ''}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n/**\r\n * Componente de b√∫squeda con comandos\r\n */\r\ninterface SearchWithCommandsProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  onCommand?: (command: string, value: string) => void;\r\n  commands?: Array<{\r\n    key: string;\r\n    label: string;\r\n    description: string;\r\n    icon?: string;\r\n  }>;\r\n  className?: string;\r\n}\r\n\r\nexport function SearchWithCommands({\r\n  value,\r\n  onChange,\r\n  onCommand,\r\n  commands = [],\r\n  className\r\n}: SearchWithCommandsProps) {\r\n  const [showCommands, setShowCommands] = useState(false);\r\n\r\n  const handleKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === ':' && !value.includes(':')) {\r\n      setShowCommands(true);\r\n    } else if (e.key === 'Escape') {\r\n      setShowCommands(false);\r\n    }\r\n  };\r\n\r\n  const handleCommandSelect = (command: string) => {\r\n    onChange(`${command}:`);\r\n    setShowCommands(false);\r\n  };\r\n\r\n  return (\r\n    <div className={cn('relative', className)}>\r\n      <SearchInput\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        onKeyDown={handleKeyDown}\r\n        placeholder=\"Escribe ':' para comandos o busca directamente...\"\r\n        leftIcon={<i className=\"fas fa-terminal text-gray-400\" />}\r\n      />\r\n\r\n      {showCommands && commands.length > 0 && (\r\n        <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-50\">\r\n          <div className=\"py-2\">\r\n            {commands.map(command => (\r\n              <button\r\n                key={command.key}\r\n                onClick={() => handleCommandSelect(command.key)}\r\n                className=\"w-full text-left px-3 py-2 hover:bg-gray-50 flex items-center space-x-3\"\r\n              >\r\n                {command.icon && <i className={`${command.icon} text-gray-400`} />}\r\n                <div>\r\n                  <div className=\"text-sm font-medium\">{command.label}</div>\r\n                  <div className=\"text-xs text-gray-500\">{command.description}</div>\r\n                </div>\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { cn } from '@/lib/utils';\r\nimport { SearchFilter, FilterState, SavedFilter } from '@/hooks/useSearch';\r\nimport MobileButton from './MobileButton';\r\n\r\ninterface AdvancedFiltersProps {\r\n  filters: SearchFilter[];\r\n  values: FilterState;\r\n  onChange: (filterId: string, value: any) => void;\r\n  onClear: () => void;\r\n  savedFilters?: SavedFilter[];\r\n  onSaveFilter?: (name: string) => void;\r\n  onLoadFilter?: (filterId: string) => void;\r\n  onDeleteFilter?: (filterId: string) => void;\r\n  facets?: Record<string, Array<{ value: string; count: number }>>;\r\n  showOnlyActive?: boolean;\r\n  activeFilters?: string[];\r\n  className?: string;\r\n}\r\n\r\nexport default function AdvancedFilters({\r\n  filters,\r\n  values,\r\n  onChange,\r\n  onClear,\r\n  savedFilters = [],\r\n  facets = {},\r\n  activeFilters = [],\r\n  className\r\n}: AdvancedFiltersProps) {\r\n  const [isExpanded, setIsExpanded] = useState(false);\r\n  const [expandedSections, setExpandedSections] = useState<Set<string>>(new Set(['basic']));\r\n\r\n  const hasActiveFilters = activeFilters.length > 0;\r\n\r\n  const renderFilter = (filter: SearchFilter) => {\r\n    const value = values[filter.id];\r\n\r\n    switch (filter.type) {\r\n      case 'text':\r\n        return (\r\n          <div key={filter.id} className=\"space-y-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={value || ''}\r\n              onChange={(e) => onChange(filter.id, e.target.value)}\r\n              placeholder={filter.placeholder}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        );\r\n\r\n      case 'select':\r\n        return (\r\n          <div key={filter.id} className=\"space-y-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n            <select\r\n              value={value || ''}\r\n              onChange={(e) => onChange(filter.id, e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            >\r\n              <option value=\"\">{filter.placeholder || 'Seleccionar...'}</option>\r\n              {filter.options?.map(option => (\r\n                <option key={option.value} value={option.value}>\r\n                  {option.label}\r\n                  {facets[filter.id]?.find(f => f.value === option.value)?.count && \r\n                    ` (${facets[filter.id]?.find(f => f.value === option.value)?.count})`\r\n                  }\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n        );\r\n\r\n      case 'boolean':\r\n        return (\r\n          <div key={filter.id} className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id={filter.id}\r\n              checked={Boolean(value)}\r\n              onChange={(e) => onChange(filter.id, e.target.checked)}\r\n              className=\"rounded focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n            <label htmlFor={filter.id} className=\"text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n          </div>\r\n        );\r\n\r\n      case 'date':\r\n        return (\r\n          <div key={filter.id} className=\"space-y-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n            <input\r\n              type=\"date\"\r\n              value={value || ''}\r\n              onChange={(e) => onChange(filter.id, e.target.value)}\r\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n            />\r\n          </div>\r\n        );\r\n\r\n      case 'range':\r\n        const [min, max] = Array.isArray(value) ? value : [0, 100];\r\n        return (\r\n          <div key={filter.id} className=\"space-y-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n            <div className=\"flex space-x-2\">\r\n              <input\r\n                type=\"number\"\r\n                value={min}\r\n                onChange={(e) => onChange(filter.id, [Number(e.target.value), max])}\r\n                placeholder=\"M√≠n\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n              <input\r\n                type=\"number\"\r\n                value={max}\r\n                onChange={(e) => onChange(filter.id, [min, Number(e.target.value)])}\r\n                placeholder=\"M√°x\"\r\n                className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      case 'multiselect':\r\n        return (\r\n          <div key={filter.id} className=\"space-y-2\">\r\n            <label className=\"block text-sm font-medium text-gray-700\">\r\n              {filter.label}\r\n            </label>\r\n            <div className=\"space-y-1 max-h-32 overflow-y-auto border rounded-lg p-2\">\r\n              {filter.options?.map(option => (\r\n                <label key={option.value} className=\"flex items-center space-x-2\">\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    checked={Array.isArray(value) ? value.includes(option.value) : false}\r\n                    onChange={(e) => {\r\n                      const currentValue = Array.isArray(value) ? value : [];\r\n                      const newValue = e.target.checked\r\n                        ? [...currentValue, option.value]\r\n                        : currentValue.filter(v => v !== option.value);\r\n                      onChange(filter.id, newValue);\r\n                    }}\r\n                    className=\"rounded focus:ring-2 focus:ring-blue-500\"\r\n                  />\r\n                  <span className=\"text-sm\">{option.label}</span>\r\n                  {facets[filter.id]?.find(f => f.value === option.value)?.count && (\r\n                    <span className=\"text-xs text-gray-500\">\r\n                      ({facets[filter.id]?.find(f => f.value === option.value)?.count})\r\n                    </span>\r\n                  )}\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={cn('bg-white rounded-lg shadow-sm border border-gray-200 p-6', className)}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900\">\r\n          <i className=\"fas fa-filter mr-2 text-blue-500\"></i>\r\n          Filtros Avanzados\r\n        </h3>\r\n\r\n        <div className=\"flex items-center space-x-2\">\r\n          <MobileButton\r\n            variant=\"ghost\"\r\n            onClick={() => setIsExpanded(!isExpanded)}\r\n            leftIcon={<i className={`fas fa-chevron-${isExpanded ? 'up' : 'down'}`} />}\r\n          >\r\n            {isExpanded ? 'Contraer' : 'Expandir'}\r\n          </MobileButton>\r\n\r\n          {hasActiveFilters && (\r\n            <MobileButton\r\n              variant=\"outline\"\r\n              onClick={onClear}\r\n              leftIcon={<i className=\"fas fa-times\" />}\r\n            >\r\n              Limpiar\r\n            </MobileButton>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filtros */}\r\n      {isExpanded && (\r\n        <div className=\"space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {filters.map(renderFilter)}\r\n          </div>\r\n\r\n          {/* Conteo de filtros activos */}\r\n          {hasActiveFilters && (\r\n            <div className=\"pt-4 border-t border-gray-200\">\r\n              <p className=\"text-sm text-gray-600\">\r\n                <i className=\"fas fa-info-circle mr-1\" />\r\n                {activeFilters.length} filtro(s) activo(s)\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}","'use client';\r\n\r\nimport React from 'react';\r\nimport { SearchFilter } from '@/hooks/useSearch';\r\nimport { cn } from '@/lib/utils';\r\n\r\ninterface FilterChipsProps {\r\n  filters: SearchFilter[];\r\n  values: Record<string, any>;\r\n  onChange: (key: string, value: any) => void;\r\n}\r\n\r\nexport const FilterChips: React.FC<FilterChipsProps> = ({\r\n  filters,\r\n  values,\r\n  onChange,\r\n}) => {\r\n  const activeFilters = filters.filter(filter => {\r\n    const value = values[filter.id];\r\n    return value && value !== '' && value !== 0 && \r\n           (Array.isArray(value) ? value.length > 0 : true);\r\n  });\r\n\r\n  if (activeFilters.length === 0) {\r\n    return null;\r\n  }\r\n\r\n  const getDisplayValue = (filter: SearchFilter, value: any): string => {\r\n    if (filter.type === 'multiselect' && Array.isArray(value)) {\r\n      return value.length === 1 \r\n        ? filter.options?.find(opt => opt.value === value[0])?.label || value[0]\r\n        : `${value.length} seleccionados`;\r\n    }\r\n\r\n    if (filter.type === 'select') {\r\n      return filter.options?.find(opt => opt.value === value)?.label || value;\r\n    }\r\n\r\n    if (filter.type === 'date') {\r\n      return new Date(value).toLocaleDateString('es-ES', {\r\n        year: 'numeric',\r\n        month: 'short',\r\n        day: 'numeric'\r\n      });\r\n    }\r\n\r\n    if (filter.type === 'range') {\r\n      if (Array.isArray(value)) {\r\n        const [min, max] = value;\r\n        return `${min} - ${max}`;\r\n      }\r\n      return value.toString();\r\n    }\r\n\r\n    if (filter.type === 'boolean') {\r\n      return value ? 'S√≠' : 'No';\r\n    }\r\n\r\n    return value.toString();\r\n  };\r\n\r\n  const clearFilter = (filterId: string, filter: SearchFilter) => {\r\n    switch (filter.type) {\r\n      case 'multiselect':\r\n        onChange(filterId, []);\r\n        break;\r\n      case 'boolean':\r\n        onChange(filterId, false);\r\n        break;\r\n      case 'range':\r\n        onChange(filterId, [0, 100]);\r\n        break;\r\n      default:\r\n        onChange(filterId, '');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-wrap gap-2\">\r\n      {activeFilters.map((filter) => {\r\n        const value = values[filter.id];\r\n        const displayValue = getDisplayValue(filter, value);\r\n\r\n        return (\r\n          <div\r\n            key={filter.id}\r\n            className=\"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-800 text-sm rounded-full border border-blue-200\"\r\n          >\r\n            <span className=\"font-medium\">{filter.label}:</span>\r\n            <span>{displayValue}</span>\r\n            <button\r\n              onClick={() => clearFilter(filter.id, filter)}\r\n              className=\"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors\"\r\n              title={`Quitar filtro ${filter.label}`}\r\n            >\r\n              <i className=\"fas fa-times text-xs\" />\r\n            </button>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterChips;"],"names":[],"mappings":"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"}