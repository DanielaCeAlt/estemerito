(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97141,35351,e=>{"use strict";e.s(["default",()=>i],97141);var t=e.i(43476),a=e.i(71645);e.s(["useHapticFeedback",()=>l],35351);class s{static isSupported(){return"vibrate"in navigator||"hapticActuators"in navigator}static hasVibrationAPI(){return"vibrate"in navigator}static hasHapticAPI(){return"hapticActuators"in navigator}static trigger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isSupported())return void console.debug("Haptic feedback not supported on this device");let{type:t="light",pattern:a}=e;if(a&&this.hasVibrationAPI())return void navigator.vibrate(a);let s={light:[10],medium:[20],heavy:[40],selection:[5],impact:[15,10,15],notification:[10,50,10]};this.hasVibrationAPI()&&s[t]&&navigator.vibrate(s[t])}static buttonPress(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";this.trigger({type:e})}static navigationChange(){this.trigger({type:"selection"})}static success(){this.trigger({type:"notification"})}static error(){this.trigger({pattern:[100,50,100]})}static swipeDetected(){this.trigger({type:"light"})}static pullRefresh(){this.trigger({type:"medium"})}static stop(){this.hasVibrationAPI()&&navigator.vibrate(0)}}function l(){let e=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s.trigger(e)},[]),t=(0,a.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light";s.buttonPress(e)},[]),l=(0,a.useCallback)(()=>{s.navigationChange()},[]),r=(0,a.useCallback)(()=>{s.success()},[]),i=(0,a.useCallback)(()=>{s.error()},[]),n=(0,a.useCallback)(()=>{s.swipeDetected()},[]);return{triggerHaptic:e,buttonPress:t,navigationChange:l,success:r,error:i,swipeDetected:n,pullRefresh:(0,a.useCallback)(()=>{s.pullRefresh()},[]),stop:(0,a.useCallback)(()=>{s.stop()},[]),isSupported:s.isSupported()}}let r=(0,a.forwardRef)((e,a)=>{let{variant:s="primary",size:r="md",isLoading:i=!1,leftIcon:n,rightIcon:c,hapticFeedback:o="light",touchFriendly:d=!0,className:u="",onClick:x,disabled:m,children:h,...p}=e,{buttonPress:g}=l(),b=["relative inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed select-none touch-manipulation gap-2",{primary:"bg-blue-600 hover:bg-blue-700 active:bg-blue-800 text-white shadow-sm",secondary:"bg-gray-100 hover:bg-gray-200 active:bg-gray-300 text-gray-900",danger:"bg-red-600 hover:bg-red-700 active:bg-red-800 text-white shadow-sm",ghost:"bg-transparent hover:bg-gray-100 active:bg-gray-200 text-gray-700",outline:"border border-gray-300 bg-white hover:bg-gray-50 active:bg-gray-100 text-gray-700"}[s],{sm:d?"min-h-[44px] min-w-[44px] px-3 py-2 text-sm":"h-9 px-3 py-2 text-sm",md:d?"min-h-[44px] min-w-[44px] px-4 py-3 text-base":"h-10 px-4 py-2 text-base",lg:d?"min-h-[48px] min-w-[48px] px-6 py-3 text-lg":"h-12 px-6 py-3 text-lg",xl:d?"min-h-[52px] min-w-[52px] px-8 py-4 text-xl":"h-14 px-8 py-4 text-xl"}[r],{primary:"focus:ring-blue-500",secondary:"focus:ring-gray-400",danger:"focus:ring-red-500",ghost:"focus:ring-gray-400",outline:"focus:ring-blue-500"}[s],"active:scale-[0.98] transform",u].join(" ");return(0,t.jsx)("button",{ref:a,className:b,onClick:e=>{m||i||("none"!==o&&g(o),x&&x(e))},disabled:m||i,"aria-disabled":m||i,tabIndex:m?-1:0,...p,children:i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current"}),(0,t.jsx)("span",{className:"ml-2",children:"Cargando..."})]}):(0,t.jsxs)(t.Fragment,{children:[n&&(0,t.jsx)("span",{className:"flex-shrink-0",children:n}),(0,t.jsx)("span",{className:"".concat(n||c?"flex-1":""," truncate"),children:h}),c&&(0,t.jsx)("span",{className:"flex-shrink-0",children:c})]})})});r.displayName="MobileButton",(0,a.forwardRef)((e,a)=>{let{icon:s,ariaLabel:l,size:i="md",...n}=e;return(0,t.jsx)(r,{ref:a,size:i,className:"".concat({sm:"min-h-[44px] min-w-[44px] w-11 h-11",md:"min-h-[44px] min-w-[44px] w-12 h-12",lg:"min-h-[48px] min-w-[48px] w-14 h-14",xl:"min-h-[52px] min-w-[52px] w-16 h-16"}[i]," p-0"),"aria-label":l,...n,children:s})}).displayName="MobileIconButton";let i=r},9938,e=>{"use strict";e.s(["default",()=>o],9938);var t=e.i(43476),a=e.i(71645);function s(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}let l=a.default.forwardRef((e,a)=>{let{className:l,leftIcon:r,rightIcon:i,...n}=e;return(0,t.jsxs)("div",{className:"relative",children:[r&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:r}),(0,t.jsx)("input",{ref:a,className:s("w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",r&&"pl-10",i&&"pr-10",l),...n}),i&&(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:i})]})});function r(e){let{value:r,onChange:i,suggestions:n=[],placeholder:c="Buscar...",showHistory:o=!0,searchHistory:d=[],onSuggestionSelect:u,onClear:x,isSearching:m=!1,resultsCount:h,searchTime:p,className:g}=e,[b,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(!1),[j,N]=(0,a.useState)(-1),w=(0,a.useRef)(null),k=(0,a.useRef)(null),C=a.default.useMemo(()=>{let e=[];return e.push(...n),o&&!r.trim()&&d.length>0&&d.slice(0,5).forEach(t=>{e.push({text:t,type:"recent"})}),e},[n,o,r,d]);return(0,a.useEffect)(()=>{let e=e=>{k.current&&!k.current.contains(e.target)&&(y(!1),N(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,t.jsxs)("div",{className:s("relative",g),children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(l,{ref:w,value:r,onChange:e=>i(e.target.value),onFocus:()=>{f(!0),y(!0)},onBlur:()=>f(!1),onKeyDown:e=>{if(v&&0!==C.length)switch(e.key){case"ArrowDown":e.preventDefault(),N(e=>e<C.length-1?e+1:0);break;case"ArrowUp":e.preventDefault(),N(e=>e>0?e-1:C.length-1);break;case"Enter":if(e.preventDefault(),j>=0&&j<C.length){let e=C[j];i(e.text),null==u||u(e),y(!1),N(-1)}break;case"Escape":var t;y(!1),N(-1),null==(t=w.current)||t.blur()}},placeholder:c,leftIcon:m?(0,t.jsx)("i",{className:"fas fa-spinner fa-spin text-blue-500"}):(0,t.jsx)("i",{className:"fas fa-search text-gray-400"}),rightIcon:r&&(0,t.jsx)("button",{onClick:()=>{var e;i(""),null==x||x(),null==(e=w.current)||e.focus()},className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Limpiar b√∫squeda",children:(0,t.jsx)("i",{className:"fas fa-times"})}),className:"pr-12"}),b&&(0,t.jsx)("div",{className:"absolute inset-0 rounded-lg ring-2 ring-blue-500 ring-opacity-20 pointer-events-none"})]}),(void 0!==h||void 0!==p)&&r&&(0,t.jsx)("div",{className:"flex justify-between items-center text-xs text-gray-500 mt-1 px-1",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[void 0!==h&&(0,t.jsxs)("span",{children:[h.toLocaleString()," resultado",1!==h?"s":""]}),void 0!==p&&(0,t.jsxs)("span",{children:["(",p.toFixed(0),"ms)"]})]})}),v&&C.length>0&&(0,t.jsxs)("div",{ref:k,className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 max-h-64 overflow-y-auto",children:[o&&!r.trim()&&d.length>0&&(0,t.jsx)("div",{className:"px-3 py-2 text-xs font-medium text-gray-500 bg-gray-50 border-b border-gray-100",children:"B√∫squedas recientes"}),(0,t.jsx)("div",{className:"py-1",children:C.map((e,a)=>(0,t.jsxs)("button",{onClick:()=>{var t;i(e.text),null==u||u(e),y(!1),N(-1),null==(t=w.current)||t.focus()},className:s("w-full text-left px-3 py-2 hover:bg-gray-50 transition-colors flex items-center space-x-3",j===a&&"bg-blue-50 border-l-2 border-blue-500"),onMouseEnter:()=>N(a),children:[(0,t.jsx)("i",{className:s((e=>{switch(e){case"recent":return"fas fa-clock";case"popular":return"fas fa-fire";case"autocomplete":default:return"fas fa-search";case"field":return"fas fa-tag"}})(e.type),(e=>{switch(e){case"recent":default:return"text-gray-500";case"popular":return"text-orange-500";case"autocomplete":return"text-blue-500";case"field":return"text-purple-500"}})(e.type),"text-sm flex-shrink-0")}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900 truncate",children:e.text}),(e.field||void 0!==e.count)&&(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[e.field&&"en ".concat(e.field),void 0!==e.count&&" (".concat(e.count,")")]})]}),"recent"===e.type&&(0,t.jsx)("div",{className:"text-xs text-gray-400",children:"Reciente"})]},"".concat(e.type,"-").concat(e.text,"-").concat(a)))})]})]})}l.displayName="SearchInput";var i=e.i(97141);function n(e){let{filters:l,values:r,onChange:n,onClear:c,savedFilters:o=[],facets:d={},activeFilters:u=[],className:x}=e,[m,h]=(0,a.useState)(!1),[p,g]=(0,a.useState)(new Set(["basic"])),b=u.length>0;return(0,t.jsxs)("div",{className:s("bg-white rounded-lg shadow-sm border border-gray-200 p-6",x),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:[(0,t.jsx)("i",{className:"fas fa-filter mr-2 text-blue-500"}),"Filtros Avanzados"]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(i.default,{variant:"ghost",onClick:()=>h(!m),leftIcon:(0,t.jsx)("i",{className:"fas fa-chevron-".concat(m?"up":"down")}),children:m?"Contraer":"Expandir"}),b&&(0,t.jsx)(i.default,{variant:"outline",onClick:c,leftIcon:(0,t.jsx)("i",{className:"fas fa-times"}),children:"Limpiar"})]})]}),m&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>{var a,s;let l=r[e.id];switch(e.type){case"text":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,t.jsx)("input",{type:"text",value:l||"",onChange:t=>n(e.id,t.target.value),placeholder:e.placeholder,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.id);case"select":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,t.jsxs)("select",{value:l||"",onChange:t=>n(e.id,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:e.placeholder||"Seleccionar..."}),null==(a=e.options)?void 0:a.map(a=>{var s,l,r,i;return(0,t.jsxs)("option",{value:a.value,children:[a.label,(null==(l=d[e.id])||null==(s=l.find(e=>e.value===a.value))?void 0:s.count)&&" (".concat(null==(i=d[e.id])||null==(r=i.find(e=>e.value===a.value))?void 0:r.count,")")]},a.value)})]})]},e.id);case"boolean":return(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",id:e.id,checked:!!l,onChange:t=>n(e.id,t.target.checked),className:"rounded focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:e.id,className:"text-sm font-medium text-gray-700",children:e.label})]},e.id);case"date":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,t.jsx)("input",{type:"date",value:l||"",onChange:t=>n(e.id,t.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]},e.id);case"range":let[i,c]=Array.isArray(l)?l:[0,100];return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,t.jsxs)("div",{className:"flex space-x-2",children:[(0,t.jsx)("input",{type:"number",value:i,onChange:t=>n(e.id,[Number(t.target.value),c]),placeholder:"M√≠n",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("input",{type:"number",value:c,onChange:t=>n(e.id,[i,Number(t.target.value)]),placeholder:"M√°x",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]},e.id);case"multiselect":return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:e.label}),(0,t.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto border rounded-lg p-2",children:null==(s=e.options)?void 0:s.map(a=>{var s,r,i,c;return(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:!!Array.isArray(l)&&l.includes(a.value),onChange:t=>{let s=Array.isArray(l)?l:[],r=t.target.checked?[...s,a.value]:s.filter(e=>e!==a.value);n(e.id,r)},className:"rounded focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("span",{className:"text-sm",children:a.label}),(null==(r=d[e.id])||null==(s=r.find(e=>e.value===a.value))?void 0:s.count)&&(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",null==(c=d[e.id])||null==(i=c.find(e=>e.value===a.value))?void 0:i.count,")"]})]},a.value)})})]},e.id);default:return null}})}),b&&(0,t.jsx)("div",{className:"pt-4 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,t.jsx)("i",{className:"fas fa-info-circle mr-1"}),u.length," filtro(s) activo(s)"]})})]})]})}let c=e=>{let{filters:a,values:s,onChange:l}=e,r=a.filter(e=>{let t=s[e.id];return t&&""!==t&&0!==t&&(!Array.isArray(t)||t.length>0)});return 0===r.length?null:(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>{let a=s[e.id],r=((e,t)=>{var a,s,l,r;if("multiselect"===e.type&&Array.isArray(t))return 1===t.length?(null==(s=e.options)||null==(a=s.find(e=>e.value===t[0]))?void 0:a.label)||t[0]:"".concat(t.length," seleccionados");if("select"===e.type)return(null==(r=e.options)||null==(l=r.find(e=>e.value===t))?void 0:l.label)||t;if("date"===e.type)return new Date(t).toLocaleDateString("es-ES",{year:"numeric",month:"short",day:"numeric"});if("range"===e.type){if(Array.isArray(t)){let[e,a]=t;return"".concat(e," - ").concat(a)}return t.toString()}return"boolean"===e.type?t?"S√≠":"No":t.toString()})(e,a);return(0,t.jsxs)("div",{className:"inline-flex items-center gap-1 px-3 py-1.5 bg-blue-100 text-blue-800 text-sm rounded-full border border-blue-200",children:[(0,t.jsxs)("span",{className:"font-medium",children:[e.label,":"]}),(0,t.jsx)("span",{children:r}),(0,t.jsx)("button",{onClick:()=>((e,t)=>{switch(t.type){case"multiselect":l(e,[]);break;case"boolean":l(e,!1);break;case"range":l(e,[0,100]);break;default:l(e,"")}})(e.id,e),className:"ml-1 p-0.5 hover:bg-blue-200 rounded-full transition-colors",title:"Quitar filtro ".concat(e.label),children:(0,t.jsx)("i",{className:"fas fa-times text-xs"})})]},e.id)})})};function o(){let[e,s]=a.default.useState(""),[l,i]=a.default.useState({}),o=[{id:"tipo",label:"Tipo",type:"select",placeholder:"Seleccionar tipo",options:[{value:"camara",label:"C√°mara"},{value:"sensor",label:"Sensor"},{value:"dispositivo",label:"Dispositivo"}]},{id:"estado",label:"Estado",type:"select",placeholder:"Seleccionar estado",options:[{value:"activo",label:"Activo"},{value:"inactivo",label:"Inactivo"},{value:"mantenimiento",label:"Mantenimiento"}]},{id:"activo",label:"Activo",type:"boolean"}];return(0,t.jsx)("div",{className:"p-8 space-y-6 bg-gray-50 min-h-screen",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"üéâ GostCAM - Sistema de B√∫squeda Avanzado"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:"Prueba del sistema avanzado de b√∫squeda y filtros implementado"}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"B√∫squeda Avanzada"}),(0,t.jsx)(r,{value:e,onChange:s,placeholder:"Buscar equipos...",suggestions:[],isSearching:!1,resultsCount:0})]}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)(n,{filters:o,values:l,onChange:(e,t)=>{i(a=>({...a,[e]:t}))},onClear:()=>i({}),activeFilters:Object.keys(l).filter(e=>l[e])})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Filtros Activos"}),(0,t.jsx)(c,{filters:o,values:l,onChange:(e,t)=>{i(a=>({...a,[e]:t}))}}),0===Object.keys(l).length&&(0,t.jsx)("p",{className:"text-gray-500 italic",children:"No hay filtros activos"})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("i",{className:"fas fa-check-circle text-green-500 mr-2"}),(0,t.jsx)("span",{className:"font-medium text-green-800",children:"‚úÖ Task 10: Sistema de B√∫squeda y Filtros Avanzado - COMPLETADO"})]}),(0,t.jsx)("p",{className:"text-green-700 text-sm mt-2",children:"Todos los componentes est√°n funcionando correctamente. El sistema incluye b√∫squeda en tiempo real, filtros avanzados, chips de filtros y persistencia."})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-blue-800 mb-2",children:"Estado Actual:"}),(0,t.jsxs)("div",{className:"text-sm text-blue-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"B√∫squeda:"}),' "',e,'"']}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Filtros:"})," ",JSON.stringify(l,null,2)]})]})]})]})})}}]);