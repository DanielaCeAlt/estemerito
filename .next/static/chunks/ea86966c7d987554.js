(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,52683,e=>{"use strict";e.s(["default",()=>D],52683);var a=e.i(43476),s=e.i(34913),t=e.i(50244),r=e.i(88589),i=e.i(71645),l=e.i(29530),o=e.i(81097);function n(e){let{children:s,title:t,subtitle:r,actions:i,className:l="",padding:o="lg",maxWidth:n="none"}=e,c=["mx-auto",{none:"",sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl","2xl":"max-w-2xl","4xl":"max-w-4xl","6xl":"max-w-6xl",full:"max-w-full"}[n],{none:"",sm:"p-4",md:"p-6",lg:"p-8",xl:"p-12"}[o],l].join(" ");return(0,a.jsxs)("div",{className:c,children:[(t||r||i)&&(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4",children:[(t||r)&&(0,a.jsxs)("div",{className:"space-y-2",children:[t&&(0,a.jsx)("h1",{className:"text-3xl font-bold text-gostcam-text-primary tracking-tight",children:t}),r&&(0,a.jsx)("p",{className:"text-lg text-gostcam-text-secondary max-w-2xl",children:r})]}),i&&(0,a.jsx)("div",{className:"flex-shrink-0",children:i})]})}),(0,a.jsx)("div",{className:"space-y-8",children:s})]})}function c(e){let{children:s,columns:t=3,gap:r="lg",className:i=""}=e,l=["grid",{1:"grid-cols-1",2:"grid-cols-1 sm:grid-cols-2",3:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3",4:"grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",6:"grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-6"}[t],{sm:"gap-4",md:"gap-6",lg:"gap-8",xl:"gap-12"}[r],i].join(" ");return(0,a.jsx)("div",{className:l,children:s})}function d(e){let{children:s,padding:t="md",shadow:r="sm",hover:i=!1,className:l="",onClick:o}=e,n=["bg-white rounded-2xl border border-gostcam-border-light",{sm:"p-4",md:"p-6",lg:"p-8"}[t],{none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"}[r],i?"hover:shadow-lg hover:border-gostcam-border-medium transition-all duration-200 cursor-pointer":"",o?"cursor-pointer":"",l].join(" ");return(0,a.jsx)("div",{className:n,onClick:o,children:s})}var x=e.i(35351);let m=(0,i.forwardRef)((e,s)=>{let{variant:t="primary",size:r="md",isLoading:i=!1,leftIcon:l,rightIcon:o,hapticFeedback:n="light",touchFriendly:c=!0,loadingText:d="Procesando...",className:m="",onClick:h,disabled:u,children:g,...p}=e,{buttonPress:f}=(0,x.useHapticFeedback)(),j=["relative inline-flex items-center justify-center font-medium rounded-xl transition-all duration-200 ease-in-out focus:outline-none disabled:opacity-60 disabled:cursor-not-allowed disabled:transform-none select-none touch-manipulation active:scale-[0.97] transform relative overflow-hidden",{primary:"bg-gostcam-primary hover:bg-gostcam-primary-hover active:bg-gostcam-primary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",secondary:"bg-gostcam-secondary hover:bg-gostcam-secondary-hover active:bg-gostcam-secondary-active text-white font-semibold shadow-sm hover:shadow-md transition-shadow focus:ring-2 focus:ring-gostcam-secondary focus:ring-offset-2",success:"bg-gostcam-success hover:bg-gostcam-success-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-success focus:ring-offset-2",warning:"bg-gostcam-warning hover:bg-gostcam-warning-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-warning focus:ring-offset-2",danger:"bg-gostcam-danger hover:bg-gostcam-danger-dark text-white font-medium shadow-sm hover:shadow-md focus:ring-2 focus:ring-gostcam-danger focus:ring-offset-2",ghost:"bg-transparent hover:bg-gostcam-gray-100 active:bg-gostcam-gray-200 text-gostcam-text-primary font-medium focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2",outline:"border-2 border-gostcam-primary bg-transparent hover:bg-gostcam-primary active:bg-gostcam-primary-hover text-gostcam-primary hover:text-white font-medium transition-all duration-200 focus:ring-2 focus:ring-gostcam-primary focus:ring-offset-2"}[t],{sm:c?"min-h-[44px] min-w-[44px] px-4 py-3 text-sm gap-2":"h-9 px-3 py-2 text-sm gap-1.5",md:c?"min-h-[48px] min-w-[48px] px-6 py-3.5 text-base gap-2.5":"h-10 px-4 py-2 text-base gap-2",lg:c?"min-h-[52px] min-w-[52px] px-8 py-4 text-lg gap-3":"h-12 px-6 py-3 text-lg gap-2.5",xl:c?"min-h-[56px] min-w-[56px] px-10 py-5 text-xl gap-3.5":"h-14 px-8 py-4 text-xl gap-3"}[r],m].join(" ");return(0,a.jsx)("button",{ref:s,className:j,onClick:e=>{u||i||("none"!==n&&f(n),h&&h(e))},disabled:u||i,"aria-disabled":u||i,"aria-label":i?d:void 0,tabIndex:u?-1:0,...p,children:i?(0,a.jsxs)("div",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin h-4 w-4 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"m4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,a.jsx)("span",{children:d})]}):(0,a.jsxs)(a.Fragment,{children:[l&&(0,a.jsx)("span",{className:"flex-shrink-0 flex items-center",children:l}),(0,a.jsx)("span",{className:"flex-1 truncate ".concat(l||o?"text-center":""),children:g}),o&&(0,a.jsx)("span",{className:"flex-shrink-0 flex items-center",children:o})]})})});m.displayName="GostCamButton";let h=(0,i.forwardRef)((e,s)=>{let{icon:t,ariaLabel:r,tooltip:i,size:l="md",variant:o="ghost",...n}=e;return(0,a.jsx)(m,{ref:s,variant:o,size:l,"aria-label":r,title:i||r,className:"".concat({sm:"min-h-[44px] min-w-[44px] w-11 h-11",md:"min-h-[48px] min-w-[48px] w-12 h-12",lg:"min-h-[52px] min-w-[52px] w-14 h-14",xl:"min-h-[56px] min-w-[56px] w-16 h-16"}[l]," p-0"),...n,children:t})});h.displayName="GostCamIconButton";let u={loading:{dashboard:"Preparando tu panel de control...",equipos:"Cargando equipos de seguridad...",sucursales:"Actualizando informaci√≥n de sucursales...",statistics:"Calculando estad√≠sticas en tiempo real...",login:"Verificando credenciales...",search:"Buscando en tu red de seguridad...",upload:"Subiendo informaci√≥n...",delete:"Procesando solicitud...",export:"Generando reporte..."},buttons:{login:"Iniciar Sesi√≥n",logout:"Cerrar Sesi√≥n",save:"Guardar Cambios",cancel:"Cancelar",delete:"Eliminar",edit:"Editar",view:"Ver Detalles",add:"Agregar Equipo",search:"Buscar",filter:"Filtrar",export:"Exportar Datos",transfer:"Trasladar",maintenance:"Mantenimiento",retry:"Reintentar",continue:"Continuar",back:"Regresar"},titles:{dashboard:"Panel de Control",equipments:"Mis Equipos",branches:"Red de Sucursales",settings:"Configuraci√≥n",profile:"Mi Perfil",reports:"Reportes y An√°lisis"}};function g(){var e;let{state:t,loadDashboardStats:r,testAltaEquipo:l}=(0,s.useApp)(),[x,h]=(0,i.useState)("resumen"),[g,p]=(0,i.useState)(!1),[f,j]=(0,i.useState)(!1),b=(0,i.useCallback)(async()=>{j(!0);try{await r()}finally{j(!1)}},[r]),v=(0,i.useCallback)(async()=>{!t.isAuthenticated||g||t.dashboardStats||(await r(),p(!0))},[t.isAuthenticated,g,t.dashboardStats,r]);if((0,i.useEffect)(()=>{v()},[v]),t.isLoading)return(0,a.jsx)(n,{title:u.loading.dashboard||"Cargando...",padding:"lg",maxWidth:"6xl",children:(0,a.jsx)("div",{className:"animate-pulse space-y-8",children:(0,a.jsx)(c,{columns:4,gap:"lg",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)(d,{className:"h-24",children:(0,a.jsx)("div",{className:"h-full bg-gostcam-gray-200 rounded-lg animate-wave"})},s))})})});if(t.error)return(0,a.jsx)(n,{padding:"lg",maxWidth:"4xl",children:(0,a.jsx)(d,{className:"border-gostcam-danger bg-gostcam-danger-light",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-10 h-10 bg-gostcam-danger rounded-full flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-white"})})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gostcam-danger mb-2",children:"Problema de conexi√≥n"}),(0,a.jsx)("p",{className:"text-gostcam-danger-dark mb-4",children:t.error}),(0,a.jsx)(m,{variant:"danger",size:"sm",onClick:()=>window.location.reload(),leftIcon:(0,a.jsx)("i",{className:"fas fa-redo"}),children:u.buttons.retry||"Reintentar"})]})]})})});let N=t.dashboardStats;if(!N)return(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:"No hay datos disponibles"})});let y={labels:N.equiposPorTipo.map(e=>e.tipo),datasets:[{label:"Cantidad de Equipos",data:N.equiposPorTipo.map(e=>e.cantidad),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(16, 185, 129, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(139, 92, 246, 0.8)","rgba(6, 182, 212, 0.8)","rgba(236, 72, 153, 0.8)","rgba(107, 114, 128, 0.8)","rgba(34, 197, 94, 0.8)","rgba(251, 146, 60, 0.8)"],borderColor:["rgba(59, 130, 246, 1)","rgba(16, 185, 129, 1)","rgba(245, 158, 11, 1)","rgba(239, 68, 68, 1)","rgba(139, 92, 246, 1)","rgba(6, 182, 212, 1)","rgba(236, 72, 153, 1)","rgba(107, 114, 128, 1)","rgba(34, 197, 94, 1)","rgba(251, 146, 60, 1)"],borderWidth:1}]},w={labels:N.estatusPorcentajes.map(e=>e.estatus),datasets:[{data:N.estatusPorcentajes.map(e=>e.porcentaje),backgroundColor:N.estatusPorcentajes.map(e=>e.color),borderWidth:2,borderColor:"#bbbbbbff"}]},A={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{padding:20,usePointStyle:!0}}}},C={...A,scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}};return(0,a.jsx)(n,{title:u.titles.dashboard||"Panel de Control",subtitle:"Bienvenido, ".concat((null==(e=t.user)?void 0:e.NombreUsuario)||"Usuario",", aqu√≠ tienes un resumen."),actions:(0,a.jsx)("div",{className:"flex space-x-2",children:(0,a.jsxs)("button",{onClick:b,disabled:f,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt ".concat(f?"animate-spin":"")}),(0,a.jsx)("span",{children:f?"Actualizando...":"Actualizar"})]})}),padding:"lg",maxWidth:"6xl",children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-desktop text-white text-sm"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Equipos"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.totalEquipos})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-green-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-check-circle text-white text-sm"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Disponibles"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.equiposDisponibles})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-play-circle text-white text-sm"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Uso"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.equiposEnUso})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("div",{className:"w-8 h-8 bg-orange-600 rounded-md flex items-center justify-center",children:(0,a.jsx)("i",{className:"fas fa-exchange-alt text-white text-sm"})})}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Movimientos/Mes"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:N.movimientosMes})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Equipos por Tipo"}),(0,a.jsx)("div",{className:"h-64",children:N.equiposPorTipo.length>0?(0,a.jsx)(o.Bar,{data:y,options:C}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Sin datos disponibles"})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Distribuci√≥n por Estatus"}),(0,a.jsx)("div",{className:"h-64",children:N.estatusPorcentajes.length>0?(0,a.jsx)(o.Doughnut,{data:w,options:A}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Sin datos disponibles"})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"En Mantenimiento"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:N.equiposMantenimiento})]}),(0,a.jsx)("i",{className:"fas fa-tools text-yellow-500 text-2xl"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Da√±ados"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-600",children:N.equiposDa√±ados})]}),(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Movimientos Abiertos"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:N.movimientosAbiertos})]}),(0,a.jsx)("i",{className:"fas fa-clock text-blue-500 text-2xl"})]})})]})]})})}l.Chart.register(l.CategoryScale,l.LinearScale,l.BarElement,l.Title,l.Tooltip,l.Legend,l.ArcElement);var p=e.i(32077);function f(e){let{vistaActual:s,vistaSucursales:t,sucursalSeleccionada:r,searchTerm:i,onVistaChange:l,onVistaSucursalesChange:o,onSearchChange:n,onRefresh:c,loading:d=!1}=e;return(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"detalle"===s&&r?"".concat(r.nombre):"Gesti√≥n de Sucursales"}),(0,a.jsx)("p",{className:"text-gray-600",children:"detalle"===s&&r?"Detalles y equipos de la sucursal":"Administra todas las sucursales y sus equipos"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:["lista"===s&&(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("i",{className:"fas fa-search text-gray-400"}),(0,a.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"Buscar...",className:"w-64 px-3 py-2 border border-gray-300 rounded-lg bg-white text-gray-900 placeholder-gray-500 focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm"})]}),"lista"===s&&(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>o("tarjetas"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("tarjetas"===t?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"),children:(0,a.jsx)("span",{children:"üóÇÔ∏è Tarjetas"})}),(0,a.jsx)("button",{onClick:()=>o("lista"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors ".concat("lista"===t?"bg-blue-600 text-white hover:bg-blue-700":"bg-blue-500 text-white hover:bg-blue-600"),children:(0,a.jsx)("span",{children:"üìã Lista"})})]}),"detalle"===s&&r&&(0,a.jsx)("button",{onClick:()=>l("lista"),className:"flex items-center space-x-2 px-4 py-2 text-sm font-medium rounded-lg transition-colors bg-blue-500 text-white hover:bg-blue-600",children:(0,a.jsx)("span",{children:"üìã Volver a Lista"})}),(0,a.jsx)("div",{className:"h-8 w-px bg-gray-300"}),(0,a.jsxs)("button",{onClick:c,disabled:d,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt ".concat(d?"animate-spin":"")}),(0,a.jsx)("span",{children:d?"Actualizando...":"Actualizar"})]})]})]})})}function j(){let[e,s]=(0,i.useState)([]),[t,r]=(0,i.useState)([]),[l,o]=(0,i.useState)(""),[n,c]=(0,i.useState)("tarjetas"),[d,x]=(0,i.useState)({totalSucursales:0,totalCamaras:0,totalSensores:0,camarasActivas:0,sensoresActivos:0}),[m,h]=(0,i.useState)(!0),[u,g]=(0,i.useState)(null),[p,j]=(0,i.useState)([]),[b,v]=(0,i.useState)(!1),[N,y]=(0,i.useState)("lista");(0,i.useEffect)(()=>{w()},[]),(0,i.useEffect)(()=>{S()},[l,e]);let w=async()=>{h(!0);try{console.log("üîÑ Cargando sucursales desde API...");let e=await fetch("/api/sucursales"),a=await e.json(),t=[];e.ok&&a.success&&a.data&&(console.log("‚úÖ Sucursales cargadas desde API:",a.data),t=a.data.map((e,a)=>({id:e.id||a+1,nombre:e.nombre||e.Sucursal||"Sucursal ".concat(a+1),direccion:e.direccion||e.Direccion||"Direcci√≥n no disponible",ciudad:e.ciudad||"Ciudad",estado:e.estado||"Estado",telefono:e.telefono||void 0,email:e.email||void 0,totalCamaras:e.equiposAsignados||Math.floor(30*Math.random())+10,totalSensores:Math.floor(20*Math.random())+5,camarasActivas:Math.floor(.9*(e.equiposAsignados||20)),sensoresActivos:Math.floor(15*Math.random())+3,equiposTotal:e.equiposAsignados||Math.floor(50*Math.random())+20}))),0===t.length&&(console.log("üì¶ Usando datos mock de respaldo..."),t=[{id:1,nombre:"Centro Principal",direccion:"Av. Principal 123",ciudad:"Ciudad de M√©xico",estado:"CDMX",telefono:"55-1234-5678",email:"centro@gostcam.com",totalCamaras:Math.floor(30*Math.random())+20,totalSensores:Math.floor(20*Math.random())+10,camarasActivas:Math.floor(25*Math.random())+18,sensoresActivos:Math.floor(18*Math.random())+8,equiposTotal:Math.floor(50*Math.random())+30},{id:2,nombre:"Sucursal Norte",direccion:"Calle Norte 456",ciudad:"Monterrey",estado:"Nuevo Le√≥n",telefono:"81-8765-4321",email:"norte@gostcam.com",totalCamaras:Math.floor(25*Math.random())+15,totalSensores:Math.floor(15*Math.random())+8,camarasActivas:Math.floor(20*Math.random())+12,sensoresActivos:Math.floor(12*Math.random())+6,equiposTotal:Math.floor(40*Math.random())+20},{id:3,nombre:"Sucursal Sur",direccion:"Blvd. Sur 789",ciudad:"Guadalajara",estado:"Jalisco",telefono:"33-2468-1357",email:"sur@gostcam.com",totalCamaras:Math.floor(28*Math.random())+18,totalSensores:Math.floor(22*Math.random())+12,camarasActivas:Math.floor(25*Math.random())+15,sensoresActivos:Math.floor(20*Math.random())+10,equiposTotal:Math.floor(45*Math.random())+25},{id:4,nombre:"Sucursal Oeste",direccion:"Av. Oeste 321",ciudad:"Tijuana",estado:"Baja California",telefono:"664-9876-5432",email:"oeste@gostcam.com",totalCamaras:Math.floor(20*Math.random())+10,totalSensores:Math.floor(15*Math.random())+5,camarasActivas:Math.floor(18*Math.random())+8,sensoresActivos:Math.floor(12*Math.random())+3,equiposTotal:Math.floor(30*Math.random())+15}]),s(t);let r={totalSucursales:t.length,totalCamaras:t.reduce((e,a)=>e+a.totalCamaras,0),totalSensores:t.reduce((e,a)=>e+a.totalSensores,0),camarasActivas:t.reduce((e,a)=>e+a.camarasActivas,0),sensoresActivos:t.reduce((e,a)=>e+a.sensoresActivos,0)};x(r),console.log("‚úÖ Sucursales cargadas exitosamente:",t.length)}catch(e){console.error("‚ùå Error cargando sucursales:",e),s([{id:1,nombre:"Centro Principal",direccion:"Av. Principal 123",ciudad:"Ciudad de M√©xico",estado:"CDMX",telefono:"55-1234-5678",email:"centro@gostcam.com",totalCamaras:25,totalSensores:15,camarasActivas:23,sensoresActivos:14,equiposTotal:40}]),x({totalSucursales:1,totalCamaras:25,totalSensores:15,camarasActivas:23,sensoresActivos:14})}h(!1)},A=async e=>{v(!0);try{let a=C(e);j(a)}catch(e){console.error("Error cargando equipos de sucursal:",e),j([])}v(!1)},C=e=>{let a=[];for(let s=1;s<=e.totalCamaras;s++)a.push({no_serie:"CAM".concat(e.id).concat(s.toString().padStart(3,"0")),nombreEquipo:"C√°mara ".concat(s," - ").concat(e.nombre),TipoEquipo:"C√°mara",marca:s%3==0?"Hikvision":s%2==0?"Dahua":"Axis",modelo:s%3==0?"DS-2CD2143G0-I":s%2==0?"IPC-HFW4431R-Z":"M3045-V",EstatusEquipo:s<=e.camarasActivas?"Activo":"Inactivo",AreaActual:s<=5?"Entrada":s<=10?"Pasillo Principal":s<=15?"Oficinas":s<=20?"Almac√©n":"Exterior",fechaInstalacion:"2024-".concat(Math.floor(12*Math.random())+1,"-").concat(Math.floor(28*Math.random())+1),ultimoMantenimiento:Math.random()>.3?"2024-11-".concat(Math.floor(7*Math.random())+1):void 0,estadoConexion:s<=e.camarasActivas?Math.random()>.1?"Conectado":"Error":"Desconectado"});for(let s=1;s<=e.totalSensores;s++)a.push({no_serie:"SEN".concat(e.id).concat(s.toString().padStart(3,"0")),nombreEquipo:"Sensor ".concat(s," - ").concat(e.nombre),TipoEquipo:s%4==0?"Sensor de Movimiento":s%3==0?"Sensor de Puerta":s%2==0?"Detector de Humo":"Sensor de Temperatura",marca:s%3==0?"Honeywell":s%2==0?"Bosch":"DSC",modelo:s%3==0?"PIR-312":s%2==0?"ISC-BPR2-W12":"LC-100PI",EstatusEquipo:s<=e.sensoresActivos?"Activo":"Inactivo",AreaActual:s<=3?"Entrada":s<=6?"Pasillo Principal":s<=9?"Oficinas":s<=12?"Almac√©n":"Exterior",fechaInstalacion:"2024-".concat(Math.floor(12*Math.random())+1,"-").concat(Math.floor(28*Math.random())+1),ultimoMantenimiento:Math.random()>.4?"2024-11-".concat(Math.floor(7*Math.random())+1):void 0,estadoConexion:s<=e.sensoresActivos?Math.random()>.05?"Conectado":"Error":"Desconectado"});return a},S=()=>{let a=e;l&&(a=a.filter(e=>e.nombre.toLowerCase().includes(l.toLowerCase())||e.ciudad.toLowerCase().includes(l.toLowerCase())||e.estado.toLowerCase().includes(l.toLowerCase()))),r(a)},M=async e=>{g(e),y("detalle"),await A(e)},E=e=>{switch(e){case"Activo":return"bg-green-100 text-green-800";case"Inactivo":default:return"bg-gray-100 text-gray-800";case"Con Falla":return"bg-red-100 text-red-800";case"Mantenimiento":return"bg-yellow-100 text-yellow-800"}},_=e=>{switch(e){case"Conectado":return"bg-green-100 text-green-800";case"Desconectado":default:return"bg-gray-100 text-gray-800";case"Error":return"bg-red-100 text-red-800"}};return"detalle"===N&&u?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f,{vistaActual:N,vistaSucursales:n,sucursalSeleccionada:u,searchTerm:l,onVistaChange:y,onVistaSucursalesChange:c,onSearchChange:o,onRefresh:w,loading:m}),(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:(0,a.jsxs)("p",{className:"text-gray-600",children:[u.direccion,", ",u.ciudad]})}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total de Equipos"}),(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:u.equiposTotal})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"C√°maras"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-blue-900",children:[u.camarasActivas,"/",u.totalCamaras]})]}),(0,a.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Sensores"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-900",children:[u.sensoresActivos,"/",u.totalSensores]})]}),(0,a.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Activos"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:u.camarasActivas+u.sensoresActivos})]}),(0,a.jsx)("i",{className:"fas fa-check-circle text-2xl text-purple-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"% Operativo"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-orange-900",children:[Math.round((u.camarasActivas+u.sensoresActivos)/u.equiposTotal*100),"%"]})]}),(0,a.jsx)("i",{className:"fas fa-chart-line text-2xl text-orange-600"})]})})]}),(0,a.jsx)("div",{className:"space-y-6",children:b?(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Cargando equipos..."})]})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"fas fa-video text-2xl text-blue-600"}),(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["C√°maras (",p.filter(e=>"C√°mara"===e.TipoEquipo).length,")"]})]})}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-blue-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Nombre"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Estado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-blue-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.filter(e=>"C√°mara"===e.TipoEquipo).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-blue-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.nombreEquipo})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.marca}),(0,a.jsx)("div",{className:"text-gray-500",children:e.modelo})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.AreaActual}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(E(e.EstatusEquipo)),children:e.EstatusEquipo})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(_(e.estadoConexion)),children:e.estadoConexion})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ultimoMantenimiento?new Date(e.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},e.no_serie))})]}),0===p.filter(e=>"C√°mara"===e.TipoEquipo).length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay c√°maras registradas en esta sucursal"})]})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-green-600"}),(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sensores y Dispositivos (",p.filter(e=>"C√°mara"!==e.TipoEquipo).length,")"]})]})}),(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-green-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"N√∫mero de Serie"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Nombre/Tipo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Marca/Modelo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Estado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"Conexi√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-green-700 uppercase tracking-wider",children:"√öltimo Mant."})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.filter(e=>"C√°mara"!==e.TipoEquipo).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-green-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nombreEquipo}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.TipoEquipo})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.marca}),(0,a.jsx)("div",{className:"text-gray-500",children:e.modelo})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.AreaActual}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(E(e.EstatusEquipo)),children:e.EstatusEquipo})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(_(e.estadoConexion)),children:e.estadoConexion})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.ultimoMantenimiento?new Date(e.ultimoMantenimiento).toLocaleDateString():"Sin registro"})]},e.no_serie))})]}),0===p.filter(e=>"C√°mara"!==e.TipoEquipo).length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay sensores o dispositivos registrados en esta sucursal"})]})]}),0===p.length&&(0,a.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No hay equipos registrados en esta sucursal"})})]})})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(f,{vistaActual:N,vistaSucursales:n,sucursalSeleccionada:u,searchTerm:l,onVistaChange:y,onVistaSucursalesChange:c,onSearchChange:o,onRefresh:w,loading:m}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Sucursales"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:d.totalSucursales})]}),(0,a.jsx)("i",{className:"fas fa-building text-2xl text-blue-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600",children:"C√°maras Totales"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900",children:d.totalCamaras})]}),(0,a.jsx)("i",{className:"fas fa-video text-2xl text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Sensores Totales"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:d.totalSensores})]}),(0,a.jsx)("i",{className:"fas fa-broadcast-tower text-2xl text-purple-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-orange-600",children:"C√°maras Activas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-orange-900",children:d.camarasActivas})]}),(0,a.jsx)("i",{className:"fas fa-check-circle text-2xl text-orange-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-600",children:"Sensores Activos"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900",children:d.sensoresActivos})]}),(0,a.jsx)("i",{className:"fas fa-shield-alt text-2xl text-red-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Sucursales (",t.length,")"]})}),m?(0,a.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Cargando sucursales..."})]}):"tarjetas"===n?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 p-6",children:t.map(e=>{let s=Math.round((e.camarasActivas+e.sensoresActivos)/e.equiposTotal*100);return(0,a.jsxs)("div",{onClick:()=>M(e),className:"border border-gray-200 rounded-lg p-6 hover:shadow-lg transition-shadow cursor-pointer bg-white",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-4 h-4 rounded-full ".concat(s>=80?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-lg font-semibold text-gray-900",children:e.nombre}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.ciudad,", ",e.estado]})]})]}),(0,a.jsxs)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(s>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[s,"%"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:e.camarasActivas}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"C√°maras"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:e.sensoresActivos}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Sensores"})]})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 mb-3",children:[(0,a.jsx)("div",{children:e.direccion}),e.telefono&&(0,a.jsxs)("div",{children:["üìû ",e.telefono]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Total: ",e.equiposTotal," equipos"]}),(0,a.jsx)("i",{className:"fas fa-chevron-right text-gray-400"})]})]},e.id)})}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Sucursal"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Ubicaci√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipos"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Estado"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Contacto"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>{let s=Math.round((e.camarasActivas+e.sensoresActivos)/e.equiposTotal*100);return(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"w-3 h-3 rounded-full mr-3 ".concat(s>=80?"bg-green-500":"bg-red-500")}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.nombre}),(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["ID: ",e.id]})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.ciudad,", ",e.estado]}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:e.direccion})]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-blue-600",children:e.camarasActivas}),(0,a.jsx)("div",{className:"text-xs text-gray-700",children:"C√°maras"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-green-600",children:e.sensoresActivos}),(0,a.jsx)("div",{className:"text-xs text-gray-700",children:"Sensores"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.equiposTotal}),(0,a.jsx)("div",{className:"text-xs text-gray-700",children:"Total"})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(s>=80?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[s>=80?"Operativa":"Con Problemas"," (",s,"%)"]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900",children:[e.telefono&&(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-phone text-gray-400 mr-1"}),e.telefono]}),e.email&&(0,a.jsxs)("div",{className:"flex items-center mt-1",children:[(0,a.jsx)("i",{className:"fas fa-envelope text-gray-400 mr-1"}),(0,a.jsx)("span",{className:"text-xs",children:e.email})]})]})}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,a.jsx)("button",{onClick:()=>M(e),className:"text-blue-600 hover:text-blue-900 mr-2",children:(0,a.jsx)("i",{className:"fas fa-eye"})}),(0,a.jsx)("button",{onClick:a=>{a.stopPropagation(),console.log("Editar sucursal:",e.id)},className:"text-gray-600 hover:text-gray-900",children:(0,a.jsx)("i",{className:"fas fa-edit"})})]})]},e.id)})})]})}),!m&&0===t.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron sucursales con los filtros aplicados"})]})]})}let b=e=>{let{title:s="Gesti√≥n de Fallas",onRefresh:t,showRefreshButton:r=!0,loading:i=!1,tabs:l=[],activeTab:o="",onTabChange:n}=e;return(0,a.jsx)("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600 mr-3"}),(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:s})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[l.length>0&&(0,a.jsx)(a.Fragment,{children:l.map(e=>(0,a.jsxs)("button",{onClick:()=>null==n?void 0:n(e.id),className:"flex items-center px-3 py-2 text-sm font-medium rounded-md transition-colors ".concat(o===e.id?"text-white bg-blue-600 hover:bg-blue-700":"text-white bg-blue-500 hover:bg-blue-600"),children:[(0,a.jsx)("i",{className:"".concat(e.icon," mr-2")}),e.label]},e.id))}),r&&t&&(0,a.jsxs)("button",{onClick:t,disabled:i,className:"flex items-center px-3 py-2 text-sm rounded-md text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 transition-colors font-medium",children:[(0,a.jsx)("i",{className:"fas fa-sync-alt mr-2 ".concat(i?"animate-spin":"")}),"Actualizar"]})]})]})})},v=()=>{let[e,s]=(0,i.useState)("consultar"),[t,r]=(0,i.useState)([]),[l,o]=(0,i.useState)(null),[n,c]=(0,i.useState)(!1),[d,x]=(0,i.useState)({estatus:"ABIERTA",prioridad:"",tipo:"",tecnico:"",fechaDesde:"",fechaHasta:""}),[m,h]=(0,i.useState)([]),[u,g]=(0,i.useState)(null),[p,f]=(0,i.useState)([]),[j,v]=(0,i.useState)({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),[N,y]=(0,i.useState)(""),[w,A]=(0,i.useState)(null),[C,S]=(0,i.useState)(!1);(0,i.useEffect)(()=>{"consultar"===e&&M(),"reportar"===e&&E()},[e,d]);let M=async()=>{c(!0);try{console.log("üîÑ Cargando fallas desde API...");let e=new URLSearchParams;d.estatus&&""!==d.estatus&&e.append("estatus",d.estatus),d.prioridad&&""!==d.prioridad&&e.append("prioridad",d.prioridad),d.tipo&&""!==d.tipo&&e.append("tipo_falla",d.tipo),d.tecnico&&""!==d.tecnico&&e.append("tecnico_asignado",d.tecnico);let a=await fetch("/api/equipos/fallas?".concat(e.toString())),s=await a.json(),t=[],i={total:0,abiertas:0,en_proceso:0,resueltas:0,promedio_solucion_horas:0,por_tipo:{hardware:0,software:0,conectividad:0,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:0,alta:0,critica:0},por_tecnico:[]};if(a.ok&&s.success&&s.data&&(console.log("‚úÖ Fallas cargadas desde API:",s.data),t=s.data.fallas||[],i=s.data.estadisticas||i),0===t.length){console.log("üì¶ Usando datos mock de respaldo con variaci√≥n...");let e=["C√°mara no enfoca correctamente","Error en software de grabaci√≥n","P√©rdida intermitente de conexi√≥n","Sensor no responde","Pantalla con l√≠neas","Audio distorsionado","Sobrecalentamiento del equipo"],a=["Imagen borrosa, no responde a ajustes autom√°ticos","Se reinicia autom√°ticamente cada 30 minutos","Se desconecta aleatoriamente de la red","No detecta movimiento","L√≠neas horizontales en la imagen","Ruido constante en la grabaci√≥n","Equipo se apaga por temperatura"],s=["CAM001","CAM002","CAM003","SEN001","SEN002","SW001","DET001"],r=["C√°mara Principal","C√°mara Entrada","C√°mara Pasillo","Sensor Puerta","Sensor Ventana","Switch Red","Detector Humo"],l=["Juan P√©rez","Ana Rodr√≠guez","Luis Martinez","Mar√≠a Gonz√°lez","Carlos L√≥pez"],o=["Mar√≠a Gonz√°lez","Carlos L√≥pez","Juan P√©rez","Ana Rodr√≠guez"],n=["HARDWARE","SOFTWARE","CONECTIVIDAD"],c=["BAJA","NORMAL","ALTA","CRITICA"],d=["ABIERTA","EN_PROCESO","RESUELTA"],x=["BAJO","MEDIO","ALTO","CRITICO"];i={total:(t=Array.from({length:Math.floor(5*Math.random())+3},(t,i)=>({id:i+1,no_serie:s[Math.floor(Math.random()*s.length)],nombreEquipo:r[Math.floor(Math.random()*r.length)],tipoEquipo:Math.random()>.7?"Sensor":"C√°mara",sucursal:Math.random()>.5?"Centro Principal":"Sucursal Norte",tipo_falla:n[Math.floor(Math.random()*n.length)],descripcion_problema:e[Math.floor(Math.random()*e.length)],sintomas:a[Math.floor(Math.random()*a.length)],prioridad:c[Math.floor(Math.random()*c.length)],usuario_reporta:l[Math.floor(Math.random()*l.length)],fecha_reporte:new Date(Date.now()-24*Math.floor(7*Math.random())*36e5).toISOString().split("T")[0],fecha_solucion:Math.random()>.6?new Date(Date.now()-24*Math.floor(2*Math.random())*36e5).toISOString().split("T")[0]:void 0,tecnico_asignado:o[Math.floor(Math.random()*o.length)],solucion_aplicada:Math.random()>.5?"Soluci√≥n aplicada exitosamente":void 0,estatus:d[Math.floor(Math.random()*d.length)],tiempo_solucion_horas:Math.random()>.6?Math.floor(8*Math.random())+1:void 0,observaciones:"Observaci√≥n ".concat(i+1," - ").concat(new Date().toLocaleTimeString()),ubicacion_falla:"Centro Principal - √Årea "+String.fromCharCode(65+Math.floor(3*Math.random())),impacto:x[Math.floor(Math.random()*x.length)],requiere_repuestos:Math.random()>.5,repuestos_utilizados:Math.random()>.7?"Repuesto utilizado":void 0,costo_reparacion:Math.random()>.7?Math.floor(500*Math.random())+100:void 0,diasAbierta:Math.floor(10*Math.random())+1}))).length,abiertas:t.filter(e=>"ABIERTA"===e.estatus).length,en_proceso:t.filter(e=>"EN_PROCESO"===e.estatus).length,resueltas:t.filter(e=>"RESUELTA"===e.estatus).length,promedio_solucion_horas:Math.floor(8*Math.random())+1,por_tipo:{hardware:t.filter(e=>"HARDWARE"===e.tipo_falla).length,software:t.filter(e=>"SOFTWARE"===e.tipo_falla).length,conectividad:t.filter(e=>"CONECTIVIDAD"===e.tipo_falla).length,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:t.filter(e=>"BAJA"===e.prioridad).length,normal:t.filter(e=>"NORMAL"===e.prioridad).length,alta:t.filter(e=>"ALTA"===e.prioridad).length,critica:t.filter(e=>"CRITICA"===e.prioridad).length},por_tecnico:o.map(e=>({tecnico:e,total_asignadas:t.filter(a=>a.tecnico_asignado===e).length,resueltas:t.filter(a=>a.tecnico_asignado===e&&"RESUELTA"===a.estatus).length,en_proceso:t.filter(a=>a.tecnico_asignado===e&&"EN_PROCESO"===a.estatus).length,promedio_horas:Math.floor(6*Math.random())+1}))}}r(t),o(i),console.log("‚úÖ Fallas cargadas exitosamente:",t.length)}catch(e){console.error("‚ùå Error cargando fallas:",e),r([]),o({total:0,abiertas:0,en_proceso:0,resueltas:0,promedio_solucion_horas:0,por_tipo:{hardware:0,software:0,conectividad:0,suministros:0,mecanica:0,electrica:0,otra:0},por_prioridad:{baja:0,normal:0,alta:0,critica:0},por_tecnico:[]})}c(!1)},E=async()=>{try{f([{id:1,nombre:"Juan P√©rez - T√©cnico Senior"},{id:2,nombre:"Mar√≠a Gonz√°lez - T√©cnico"},{id:3,nombre:"Carlos L√≥pez - T√©cnico Junior"},{id:4,nombre:"Ana Rodr√≠guez - Especialista"}])}catch(e){console.error("Error cargando t√©cnicos:",e)}},_=async e=>{if(!e.trim())return void h([]);try{let a=await fetch("/api/equipos/search?q=".concat(encodeURIComponent(e))),s=await a.json();s.success&&h(s.data)}catch(e){console.error("Error buscando equipos:",e)}},k=async()=>{if(!u)return void alert("Debe seleccionar un equipo");if(!j.descripcion_problema.trim())return void alert("Debe describir el problema");if(!j.usuario_reporta.trim())return void alert("Debe especificar qui√©n reporta la falla");try{c(!0);let e={no_serie:u.no_serie,tipo_falla:j.tipo_falla,descripcion_problema:j.descripcion_problema,sintomas:j.sintomas||"",prioridad:j.prioridad,usuario_reporta:j.usuario_reporta,tecnico_asignado:j.tecnico_asignado||"",ubicacion_falla:j.ubicacion_falla||u.SucursalActual,impacto:j.impacto,requiere_repuestos:j.requiere_repuestos,observaciones:j.observaciones||""};console.log("Enviando falla:",e);let a=await fetch("/api/equipos/fallas",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();t.success?(alert("‚úÖ Falla reportada exitosamente"),v({no_serie:"",tipo_falla:"HARDWARE",descripcion_problema:"",sintomas:"",prioridad:"NORMAL",usuario_reporta:"",tecnico_asignado:"",ubicacion_falla:"",impacto:"MEDIO",requiere_repuestos:!1,observaciones:""}),g(null),y(""),s("consultar"),M()):alert("‚ùå Error: ".concat(t.error))}catch(e){console.error("Error reportando falla:",e),alert("‚ùå Error interno del servidor")}finally{c(!1)}},T=async e=>{try{alert("Falla actualizada exitosamente"),S(!1),A(null),M()}catch(e){console.error("Error actualizando falla:",e),alert("Error interno del servidor")}};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(b,{title:"Gesti√≥n de Fallas",onRefresh:()=>M(),showRefreshButton:"consultar"===e,loading:n,tabs:[{id:"consultar",label:"Consultar Fallas",icon:"fas fa-search"},{id:"reportar",label:"Reportar Falla",icon:"fas fa-plus-circle"},{id:"estadisticas",label:"Estad√≠sticas",icon:"fas fa-chart-bar"}],activeTab:e,onTabChange:e=>s(e)}),(0,a.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:["consultar"===e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-6 gap-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estatus"}),(0,a.jsxs)("select",{value:d.estatus,onChange:e=>x({...d,estatus:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,a.jsx)("option",{value:"ABIERTA",children:"Abierta"}),(0,a.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,a.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,a.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),(0,a.jsxs)("select",{value:d.prioridad,onChange:e=>x({...d,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,a.jsx)("option",{value:"",children:"Todas"}),(0,a.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"}),(0,a.jsx)("option",{value:"ALTA",children:"Alta"}),(0,a.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,a.jsx)("option",{value:"BAJA",children:"Baja"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),(0,a.jsxs)("select",{value:d.tipo,onChange:e=>x({...d,tipo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm",children:[(0,a.jsx)("option",{value:"",children:"Todos"}),(0,a.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,a.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,a.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,a.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,a.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,a.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,a.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:d.fechaDesde,onChange:e=>x({...d,fechaDesde:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:d.fechaHasta,onChange:e=>x({...d,fechaHasta:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T√©cnico"}),(0,a.jsx)("input",{type:"text",value:d.tecnico,onChange:e=>x({...d,tecnico:e.target.value}),placeholder:"Nombre del t√©cnico",className:"w-full px-3 py-2 border border-gray-300 rounded-lg    bg-white text-gray-900 text-sm"})]})]}),n?(0,a.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,a.jsx)("span",{className:"ml-2",children:"Cargando fallas..."})]}):(0,a.jsxs)("div",{className:"overflow-x-auto",children:[(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Equipo"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Tipo/Prioridad"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Descripci√≥n"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Fechas"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.no_serie}),(0,a.jsx)("div",{className:"text-sm text-gray-700",children:e.nombreEquipo}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:e.sucursal})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(e=>({HARDWARE:"Hardware",SOFTWARE:"Software",CONECTIVIDAD:"Conectividad",SUMINISTROS:"Suministros",MECANICA:"Mec√°nica",ELECTRICA:"El√©ctrica",OTRA:"Otra"})[e]||e)(e.tipo_falla)}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full border ".concat((e=>{switch(e){case"CRITICA":return"bg-red-100 text-red-800 border-red-200";case"ALTA":return"bg-orange-100 text-orange-800 border-orange-200";case"NORMAL":return"bg-blue-100 text-blue-800 border-blue-200";case"BAJA":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}})(e.prioridad)),children:e.prioridad}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat((e=>{switch(e){case"ABIERTA":return"bg-red-100 text-red-800";case"EN_PROCESO":return"bg-yellow-100 text-yellow-800";case"RESUELTA":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}})(e.estatus)),children:e.estatus})]})}),(0,a.jsx)("td",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"text-sm text-gray-900 max-w-xs",children:[(0,a.jsx)("div",{className:"font-medium mb-1",children:e.descripcion_problema}),e.sintomas&&(0,a.jsxs)("div",{className:"text-xs text-gray-700",children:["S√≠ntomas: ",e.sintomas]}),(0,a.jsxs)("div",{className:"text-xs text-gray-400 mt-1",children:["Reportado por: ",e.usuario_reporta]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.tecnico_asignado||"Sin asignar"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{children:["Reportado: ",new Date(e.fecha_reporte).toLocaleDateString()]}),e.fecha_solucion&&(0,a.jsxs)("div",{children:["Resuelto: ",new Date(e.fecha_solucion).toLocaleDateString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-700",children:[e.diasAbierta," d√≠as transcurridos"]}),e.tiempo_solucion_horas&&(0,a.jsxs)("div",{className:"text-xs text-green-600",children:["Resuelto en ",e.tiempo_solucion_horas,"h"]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("button",{onClick:()=>{A(e),S(!0)},className:"text-gray-700 hover:text-gray-900 mr-3",children:[(0,a.jsx)("i",{className:"fas fa-edit"})," Actualizar"]})})]},e.id))})]}),0===t.length&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-700",children:"No se encontraron fallas con los filtros aplicados"})]})]}),"reportar"===e&&(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Seleccionar Equipo"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:N,onChange:e=>{y(e.target.value),_(e.target.value)},placeholder:"Buscar equipos por n√∫mero de serie o nombre...",className:"w-full px-4 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "}),m.length>0&&(0,a.jsx)("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:m.map(e=>(0,a.jsxs)("button",{onClick:()=>(e=>{g(e),v(a=>({...a,no_serie:e.no_serie,ubicacion_falla:"".concat(e.SucursalActual," - ").concat(e.AreaActual||"Sin especificar")})),y("".concat(e.no_serie," - ").concat(e.nombreEquipo)),h([])})(e),className:"w-full text-left px-4 py-2 hover:bg-gray-50 dark:hover:bg-gray-700 border-b border-gray-200 ",children:[(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[e.no_serie," - ",e.nombreEquipo]}),(0,a.jsxs)("div",{className:"text-xs text-gray-700",children:[e.TipoEquipo," | ",e.SucursalActual]})]},e.no_serie))})]}),u&&(0,a.jsxs)("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Equipo Seleccionado"}),(0,a.jsxs)("div",{className:"text-sm font-medium text-gray-900 ",children:[u.no_serie," - ",u.nombreEquipo]}),(0,a.jsxs)("div",{className:"text-xs text-gray-700",children:[u.TipoEquipo," | ",u.SucursalActual]})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 ",children:"Detalles de la Falla"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Tipo de Falla *"}),(0,a.jsxs)("select",{value:j.tipo_falla,onChange:e=>v({...j,tipo_falla:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,a.jsx)("option",{value:"HARDWARE",children:"Hardware"}),(0,a.jsx)("option",{value:"SOFTWARE",children:"Software"}),(0,a.jsx)("option",{value:"CONECTIVIDAD",children:"Conectividad"}),(0,a.jsx)("option",{value:"SUMINISTROS",children:"Suministros"}),(0,a.jsx)("option",{value:"MECANICA",children:"Mec√°nica"}),(0,a.jsx)("option",{value:"ELECTRICA",children:"El√©ctrica"}),(0,a.jsx)("option",{value:"OTRA",children:"Otra"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Prioridad *"}),(0,a.jsxs)("select",{value:j.prioridad,onChange:e=>v({...j,prioridad:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,a.jsx)("option",{value:"BAJA",children:"Baja"}),(0,a.jsx)("option",{value:"NORMAL",children:"Normal"}),(0,a.jsx)("option",{value:"ALTA",children:"Alta"}),(0,a.jsx)("option",{value:"CRITICA",children:"Cr√≠tica"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Impacto"}),(0,a.jsxs)("select",{value:j.impacto,onChange:e=>v({...j,impacto:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,a.jsx)("option",{value:"BAJO",children:"Bajo"}),(0,a.jsx)("option",{value:"MEDIO",children:"Medio"}),(0,a.jsx)("option",{value:"ALTO",children:"Alto"}),(0,a.jsx)("option",{value:"CRITICO",children:"Cr√≠tico"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"T√©cnico Asignado"}),(0,a.jsxs)("select",{value:j.tecnico_asignado,onChange:e=>v({...j,tecnico_asignado:e.target.value}),className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",children:[(0,a.jsx)("option",{value:"",children:"Asignar despu√©s..."}),p.map(e=>(0,a.jsx)("option",{value:e.nombre,children:e.nombre},e.id))]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Usuario que Reporta *"}),(0,a.jsx)("input",{type:"text",value:j.usuario_reporta,onChange:e=>v({...j,usuario_reporta:e.target.value}),placeholder:"Nombre del usuario que reporta la falla",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Descripci√≥n del Problema *"}),(0,a.jsx)("textarea",{value:j.descripcion_problema,onChange:e=>v({...j,descripcion_problema:e.target.value}),rows:3,placeholder:"Describe detalladamente el problema...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"S√≠ntomas Observados"}),(0,a.jsx)("textarea",{value:j.sintomas,onChange:e=>v({...j,sintomas:e.target.value}),rows:2,placeholder:"S√≠ntomas espec√≠ficos que presenta el equipo...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Observaciones Adicionales"}),(0,a.jsx)("textarea",{value:j.observaciones,onChange:e=>v({...j,observaciones:e.target.value}),rows:2,placeholder:"Informaci√≥n adicional relevante...",className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 "})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"requiere_repuestos",checked:j.requiere_repuestos,onChange:e=>v({...j,requiere_repuestos:e.target.checked}),className:"h-4 w-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"requiere_repuestos",className:"ml-2 block text-sm text-gray-700 dark:text-gray-300",children:"Requiere repuestos"})]}),(0,a.jsx)("button",{onClick:k,disabled:n||!u||!j.descripcion_problema||!j.usuario_reporta,className:"w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700    disabled:bg-gray-400 disabled:cursor-not-allowed   flex items-center justify-center space-x-2",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,a.jsx)("span",{children:"Reportando..."})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("i",{className:"fas fa-exclamation-triangle"}),(0,a.jsx)("span",{children:"Reportar Falla"})]})})]})]})}),"estadisticas"===e&&l&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-red-50 to-red-100 dark:from-red-900/20 dark:to-red-800/20 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-red-600 dark:text-red-400",children:"Fallas Abiertas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:l.abiertas})]}),(0,a.jsx)("i",{className:"fas fa-exclamation-triangle text-2xl text-red-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-yellow-600 dark:text-yellow-400",children:"En Proceso"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:l.en_proceso})]}),(0,a.jsx)("i",{className:"fas fa-tools text-2xl text-yellow-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 dark:from-green-900/20 dark:to-green-800/20 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Resueltas"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:l.resueltas})]}),(0,a.jsx)("i",{className:"fas fa-check-circle text-2xl text-green-600"})]})}),(0,a.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-900/20 dark:to-blue-800/20 p-6 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium text-blue-600 dark:text-blue-400",children:"Total"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:l.total})]}),(0,a.jsx)("i",{className:"fas fa-clipboard-list text-2xl text-blue-600"})]})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Tipo de Falla"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:l.por_tipo.hardware}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Hardware"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.por_tipo.software}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Software"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l.por_tipo.conectividad}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Conectividad"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:l.por_tipo.suministros}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Suministros"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:l.por_tipo.mecanica}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Mec√°nica"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:l.por_tipo.electrica}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"El√©ctrica"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-600",children:l.por_tipo.otra}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Otra"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci√≥n por Prioridad"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-600",children:l.por_prioridad.critica}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"Cr√≠tica"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:l.por_prioridad.alta}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Alta"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:l.por_prioridad.normal}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Normal"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:l.por_prioridad.baja}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Baja"})]})]})]}),l.promedio_solucion_horas>0&&(0,a.jsxs)("div",{className:"bg-white  p-6 rounded-lg border border-gray-200 ",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:"Tiempo Promedio de Soluci√≥n"}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:[l.promedio_solucion_horas,"h"]}),(0,a.jsx)("div",{className:"text-sm text-gray-600 ",children:"Promedio para fallas resueltas"})]})]}),l.por_tecnico.length>0&&(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Rendimiento por T√©cnico"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 ",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"T√©cnico"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Asignadas"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Resueltas"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"En Proceso"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-800 uppercase tracking-wider",children:"Promedio (h)"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.por_tecnico.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 ",children:e.tecnico}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:e.total_asignadas}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:e.resueltas}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-yellow-600",children:e.en_proceso}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 ",children:[e.promedio_horas,"h"]})]},s))})]})})]})]})]}),C&&w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900  mb-4",children:["Actualizar Falla #",null==w?void 0:w.id]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Nuevo Estatus"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:e=>{let a=e.target.value;if("RESUELTA"===a){let e=prompt("Ingrese las horas de soluci√≥n:"),s=prompt("Ingrese la soluci√≥n aplicada:");T({estatus:a,tiempo_solucion_horas:e?parseFloat(e):void 0,solucion_aplicada:s||void 0})}else T({estatus:a})},children:[(0,a.jsx)("option",{value:"",children:"Seleccionar nuevo estatus..."}),(0,a.jsx)("option",{value:"EN_PROCESO",children:"En Proceso"}),(0,a.jsx)("option",{value:"RESUELTA",children:"Resuelta"}),(0,a.jsx)("option",{value:"CANCELADA",children:"Cancelada"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asignar T√©cnico"}),(0,a.jsxs)("select",{className:"w-full px-3 py-2 border border-gray-300  rounded-lg    bg-white  text-gray-900 ",onChange:e=>{e.target.value&&T({tecnico_asignado:e.target.value})},children:[(0,a.jsx)("option",{value:"",children:"Asignar t√©cnico..."}),p.map(e=>(0,a.jsx)("option",{value:e.nombre,children:e.nombre},e.id))]})]})]}),(0,a.jsx)("div",{className:"flex justify-end space-x-2 mt-6",children:(0,a.jsx)("button",{onClick:()=>S(!1),className:"px-4 py-2 text-gray-600 bg-gray-200 rounded-lg hover:bg-gray-300",children:"Cancelar"})})]})})]})},N=()=>(0,a.jsx)(v,{});var y=e.i(74080);function w(e){let{toast:s,onClose:t}=e,[r,l]=(0,i.useState)(!1),[o,n]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(setTimeout(()=>l(!0),100),s.duration){let e=setTimeout(()=>{c()},s.duration);return()=>clearTimeout(e)}},[s.duration]);let c=()=>{n(!0),setTimeout(()=>{t(s.id)},300)};return(0,a.jsx)("div",{className:"transform transition-all duration-300 ease-in-out ".concat(r&&!o?"translate-x-0":"translate-x-full"," mb-4 w-full max-w-md"),role:"alert","aria-live":"polite",children:(0,a.jsx)("div",{className:"rounded-xl shadow-lg overflow-hidden ".concat((()=>{let e="border-l-4";switch(s.type){case"success":return"".concat(e," border-gostcam-success bg-gostcam-success-light");case"error":return"".concat(e," border-gostcam-danger bg-gostcam-danger-light");case"warning":return"".concat(e," border-gostcam-warning bg-gostcam-warning-light");default:return"".concat(e," border-gostcam-info bg-gostcam-info-light")}})()),children:(0,a.jsx)("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("i",{className:"".concat((()=>{switch(s.type){case"success":return"fas fa-check-circle text-gostcam-success";case"error":return"fas fa-exclamation-circle text-gostcam-danger";case"warning":return"fas fa-exclamation-triangle text-gostcam-warning";default:return"fas fa-info-circle text-gostcam-info"}})()," text-xl")})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gostcam-text-primary mb-1",children:s.title}),s.message&&(0,a.jsx)("p",{className:"text-sm text-gostcam-text-secondary",children:s.message}),s.actions&&s.actions.length>0&&(0,a.jsx)("div",{className:"mt-3 flex gap-2",children:s.actions.map((e,s)=>(0,a.jsx)(m,{variant:e.variant||"ghost",size:"sm",onClick:e.onClick,children:e.label},s))})]}),(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(h,{variant:"ghost",size:"sm",icon:(0,a.jsx)("i",{className:"fas fa-times"}),ariaLabel:"Cerrar notificaci√≥n",onClick:c,className:"text-gostcam-text-muted hover:text-gostcam-text-primary"})})]})})})})}function A(e){let{toasts:s,onRemoveToast:t}=e;return 0===s.length?null:(0,y.createPortal)((0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 flex flex-col-reverse space-y-reverse space-y-4 max-h-screen overflow-hidden","aria-label":"Notificaciones",children:s.map(e=>(0,a.jsx)(w,{toast:e,onClose:t},e.id))}),document.body)}function C(e){let{className:s="",width:t,height:r,rounded:i="md",animate:l=!0}=e,o={};return t&&(o.width="number"==typeof t?"".concat(t,"px"):t),r&&(o.height="number"==typeof r?"".concat(r,"px"):r),(0,a.jsx)("div",{className:["bg-gostcam-gray-200",{none:"rounded-none",sm:"rounded-sm",md:"rounded-lg",lg:"rounded-xl",full:"rounded-full"}[i],l?"animate-wave":"",s].join(" "),style:o,"aria-hidden":"true"})}function S(e){let{hasImage:s=!1,hasActions:t=!1,className:r=""}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6 space-y-4 ".concat(r),children:[s&&(0,a.jsx)(C,{height:"12rem",className:"w-full"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(C,{height:"1.5rem",width:"80%"}),(0,a.jsx)(C,{height:"1rem",width:"100%"}),(0,a.jsx)(C,{height:"1rem",width:"60%"})]}),t&&(0,a.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,a.jsx)(C,{height:"2.5rem",width:"5rem"}),(0,a.jsx)(C,{height:"2.5rem",width:"4rem"})]})]})}function M(e){let{rows:s=5,columns:t=4,hasHeader:r=!0,className:i=""}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light overflow-hidden ".concat(i),children:[r&&(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gostcam-border-light",children:(0,a.jsx)("div",{className:"flex gap-4",children:Array.from({length:t},(e,s)=>(0,a.jsx)(C,{height:"1.25rem",width:"6rem"},s))})}),(0,a.jsx)("div",{className:"divide-y divide-gostcam-border-light",children:Array.from({length:s},(e,s)=>(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsx)("div",{className:"flex gap-4 items-center",children:Array.from({length:t},(e,s)=>(0,a.jsx)(C,{height:"1rem",width:0===s?"8rem":"6rem"},s))})},s))})]})}function E(e){let{items:s=3,hasAvatar:t=!1,hasActions:r=!1,className:i=""}=e;return(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light divide-y divide-gostcam-border-light ".concat(i),children:Array.from({length:s},(e,s)=>(0,a.jsx)("div",{className:"px-6 py-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[t&&(0,a.jsx)(C,{width:"3rem",height:"3rem",rounded:"full"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(C,{height:"1.25rem",width:"60%"}),(0,a.jsx)(C,{height:"1rem",width:"40%"})]}),r&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(C,{width:"2rem",height:"2rem",rounded:"md"}),(0,a.jsx)(C,{width:"2rem",height:"2rem",rounded:"md"})]})]})},s))})}function _(e){let{items:s=4,className:t=""}=e;return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 ".concat(t),children:Array.from({length:s},(e,s)=>(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(C,{width:"3rem",height:"3rem",rounded:"lg"}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(C,{height:"1rem",width:"70%"}),(0,a.jsx)(C,{height:"2rem",width:"50%"})]})]})},s))})}function k(e){let{className:s=""}=e;return(0,a.jsxs)("div",{className:"space-y-8 ".concat(s),children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(C,{height:"2rem",width:"40%"}),(0,a.jsx)(C,{height:"1rem",width:"60%"})]}),(0,a.jsx)(_,{}),(0,a.jsx)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(C,{height:"1.5rem",width:"30%"}),(0,a.jsx)(C,{height:"20rem",className:"w-full"})]})}),(0,a.jsx)(M,{})]})}function T(e){let{fields:s=5,hasTitle:t=!0,hasActions:r=!0,className:i=""}=e;return(0,a.jsxs)("div",{className:"bg-white rounded-xl border border-gostcam-border-light p-6 space-y-6 ".concat(i),children:[t&&(0,a.jsxs)("div",{className:"space-y-2 pb-4 border-b border-gostcam-border-light",children:[(0,a.jsx)(C,{height:"2rem",width:"40%"}),(0,a.jsx)(C,{height:"1rem",width:"70%"})]}),(0,a.jsx)("div",{className:"space-y-6",children:Array.from({length:s},(e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(C,{height:"1.25rem",width:"6rem"}),(0,a.jsx)(C,{height:"3rem",className:"w-full"})]},s))}),r&&(0,a.jsxs)("div",{className:"pt-4 border-t border-gostcam-border-light flex gap-3",children:[(0,a.jsx)(C,{height:"2.75rem",width:"6rem"}),(0,a.jsx)(C,{height:"2.75rem",width:"5rem"})]})]})}function R(e){let{type:s,className:t=""}=e;return(0,a.jsx)("div",{className:"animate-pulse ".concat(t),children:(()=>{switch(s){case"dashboard":default:return(0,a.jsx)(k,{});case"table":return(0,a.jsx)(M,{rows:8,columns:5});case"form":return(0,a.jsx)(T,{});case"list":return(0,a.jsx)(E,{items:6,hasAvatar:!0,hasActions:!0});case"cards":return(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6},(e,s)=>(0,a.jsx)(S,{hasImage:!0,hasActions:!0},s))})}})()})}function q(){let{state:e}=(0,s.useApp)(),{toasts:l,removeToast:o}=function(){let[e,a]=(0,i.useState)([]),s=e=>{var s;let t=Date.now().toString()+Math.random().toString(36).substring(2),r={...e,id:t,duration:null!=(s=e.duration)?s:5e3};return a(e=>[r,...e]),t};return{toasts:e,addToast:s,removeToast:e=>{a(a=>a.filter(a=>a.id!==e))},success:(e,a,t)=>s({type:"success",title:e,message:a,actions:t}),error:(e,a,t)=>s({type:"error",title:e,message:a,actions:t,duration:8e3}),warning:(e,a,t)=>s({type:"warning",title:e,message:a,actions:t,duration:6e3}),info:(e,a,t)=>s({type:"info",title:e,message:a,actions:t})}}();return e.isAuthenticated?e.isLoading?(0,a.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,a.jsx)(r.default,{}),(0,a.jsx)("main",{className:"flex-1 p-6",children:(0,a.jsx)(R,{type:"dashboard"})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"min-h-screen bg-gostcam-bg-primary",children:[(0,a.jsx)(r.default,{}),(0,a.jsx)("main",{className:"flex-1",children:(()=>{switch(e.currentSection){case"dashboard":default:return(0,a.jsx)(g,{});case"equipos":return(0,a.jsx)(p.default,{});case"sucursales":return(0,a.jsx)(j,{});case"fallas":return(0,a.jsx)(N,{})}})()})]}),(0,a.jsx)(A,{toasts:l,onRemoveToast:o})]}):(0,a.jsx)(t.default,{})}function D(){return(0,a.jsx)(s.AppProvider,{children:(0,a.jsx)(q,{})})}}]);